'use strict'
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id =
  'vendor-chunks/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq'
exports.ids = [
  'vendor-chunks/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq',
]
exports.modules = {
  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js':
    /*!*********************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js ***!
  \*********************************************************************************************************************************************************************************************************************************************/
    /***/ (__webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        "__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addFieldStatePromise: () => (/* binding */ addFieldStatePromise)\n/* harmony export */ });\n/* harmony import */ var bson_objectid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson-objectid */ \"(rsc)/../node_modules/.pnpm/bson-objectid@2.0.4/node_modules/bson-objectid/objectid.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"payload\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"payload/shared\");\n/* harmony import */ var _utilities_resolveFilterOptions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utilities/resolveFilterOptions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js\");\n/* harmony import */ var _isRowCollapsed_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./isRowCollapsed.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([payload__WEBPACK_IMPORTED_MODULE_1__, payload_shared__WEBPACK_IMPORTED_MODULE_2__, _iterateFields_js__WEBPACK_IMPORTED_MODULE_3__]);\n([payload__WEBPACK_IMPORTED_MODULE_1__, payload_shared__WEBPACK_IMPORTED_MODULE_2__, _iterateFields_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nconst ObjectId = \"default\" in bson_objectid__WEBPACK_IMPORTED_MODULE_0__ ? bson_objectid__WEBPACK_IMPORTED_MODULE_0__[\"default\"] : bson_objectid__WEBPACK_IMPORTED_MODULE_0__;\n/**\n * Flattens the fields schema and fields data.\n * The output is the field path (e.g. array.0.name) mapped to a FormField object.\n */\nconst addFieldStatePromise = async args => {\n  const {\n    id,\n    addErrorPathToParent: addErrorPathToParentArg,\n    anyParentLocalized = false,\n    blockData,\n    clientFieldSchemaMap,\n    collectionSlug,\n    data,\n    field,\n    fieldSchemaMap,\n    filter,\n    forceFullValue = false,\n    fullData,\n    includeSchema = false,\n    indexPath,\n    mockRSCs,\n    omitParents = false,\n    operation,\n    parentPath,\n    parentPermissions,\n    parentSchemaPath,\n    passesCondition,\n    path,\n    preferences,\n    previousFormState,\n    readOnly,\n    renderAllFields,\n    renderFieldFn,\n    req,\n    schemaPath,\n    select,\n    selectMode,\n    skipConditionChecks = false,\n    skipValidation = false,\n    state\n  } = args;\n  if (!args.clientFieldSchemaMap && args.renderFieldFn) {\n    // eslint-disable-next-line no-console\n    console.warn('clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance');\n  }\n  let fieldPermissions = true;\n  const fieldState = {};\n  const lastRenderedPath = previousFormState?.[path]?.lastRenderedPath;\n  // Append only if true to avoid sending '$undefined' through the network\n  if (lastRenderedPath) {\n    fieldState.lastRenderedPath = lastRenderedPath;\n  }\n  // If we're rendering all fields, no need to flag this as added by server\n  const addedByServer = !renderAllFields && !previousFormState?.[path];\n  // Append only if true to avoid sending '$undefined' through the network\n  if (addedByServer) {\n    fieldState.addedByServer = true;\n  }\n  // Append only if true to avoid sending '$undefined' through the network\n  if (passesCondition === false) {\n    fieldState.passesCondition = false;\n  }\n  // Append only if true to avoid sending '$undefined' through the network\n  if (includeSchema) {\n    fieldState.fieldSchema = field;\n  }\n  if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldAffectsData)(field) && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldIsHiddenOrDisabled)(field)) {\n    fieldPermissions = parentPermissions === true ? parentPermissions : (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.deepCopyObjectSimple)(parentPermissions?.[field.name]);\n    let hasPermission = fieldPermissions === true || (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.deepCopyObjectSimple)(fieldPermissions?.read);\n    if (typeof field?.access?.read === 'function') {\n      hasPermission = await field.access.read({\n        id,\n        blockData,\n        data: fullData,\n        req,\n        siblingData: data\n      });\n    } else {\n      hasPermission = true;\n    }\n    if (!hasPermission) {\n      return;\n    }\n    const validate = field.validate;\n    let validationResult = true;\n    if (typeof validate === 'function' && !skipValidation && passesCondition) {\n      let jsonError;\n      if (field.type === 'json' && typeof data[field.name] === 'string') {\n        try {\n          JSON.parse(data[field.name]);\n        } catch (e) {\n          jsonError = e;\n        }\n      }\n      try {\n        validationResult = await validate(data?.[field.name], {\n          ...field,\n          id,\n          blockData,\n          collectionSlug,\n          data: fullData,\n          event: 'onChange',\n          // @AlessioGr added `jsonError` in https://github.com/payloadcms/payload/commit/c7ea62a39473408c3ea912c4fbf73e11be4b538d\n          // @ts-expect-error-next-line\n          jsonError,\n          operation,\n          preferences,\n          previousValue: previousFormState?.[path]?.initialValue,\n          req,\n          siblingData: data\n        });\n      } catch (err) {\n        validationResult = `Error validating field at path: ${path}`;\n        req.payload.logger.error({\n          err,\n          msg: validationResult\n        });\n      }\n    }\n    /**\n    * This function adds the error **path** to the current field and all its parents. If a field is invalid, all its parents are also invalid.\n    * It does not add the error **message** to the current field, as that shouldn't apply to all parents.\n    * This is done separately below.\n    */\n    const addErrorPathToParent = errorPath => {\n      if (typeof addErrorPathToParentArg === 'function') {\n        addErrorPathToParentArg(errorPath);\n      }\n      if (!fieldState.errorPaths) {\n        fieldState.errorPaths = [];\n      }\n      if (!fieldState.errorPaths.includes(errorPath)) {\n        fieldState.errorPaths.push(errorPath);\n        fieldState.valid = false;\n      }\n    };\n    if (typeof validationResult === 'string') {\n      fieldState.errorMessage = validationResult;\n      fieldState.valid = false;\n      addErrorPathToParent(path);\n    }\n    switch (field.type) {\n      case 'array':\n        {\n          const arrayValue = Array.isArray(data[field.name]) ? data[field.name] : [];\n          const arraySelect = select?.[field.name];\n          const {\n            promises,\n            rows\n          } = arrayValue.reduce((acc, row, i) => {\n            const parentPath = path + '.' + i;\n            row.id = row?.id || new ObjectId().toHexString();\n            if (!omitParents && (!filter || filter(args))) {\n              const idKey = parentPath + '.id';\n              state[idKey] = {\n                initialValue: row.id,\n                value: row.id\n              };\n              if (includeSchema) {\n                state[idKey].fieldSchema = field.fields.find(field => (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldIsID)(field));\n              }\n            }\n            acc.promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n              id,\n              addErrorPathToParent,\n              anyParentLocalized: field.localized || anyParentLocalized,\n              blockData,\n              clientFieldSchemaMap,\n              collectionSlug,\n              data: row,\n              fields: field.fields,\n              fieldSchemaMap,\n              filter,\n              forceFullValue,\n              fullData,\n              includeSchema,\n              mockRSCs,\n              omitParents,\n              operation,\n              parentIndexPath: '',\n              parentPassesCondition: passesCondition,\n              parentPath,\n              parentSchemaPath: schemaPath,\n              permissions: fieldPermissions === true ? fieldPermissions : fieldPermissions?.fields || {},\n              preferences,\n              previousFormState,\n              readOnly,\n              renderAllFields,\n              renderFieldFn,\n              req,\n              select: typeof arraySelect === 'object' ? arraySelect : undefined,\n              selectMode,\n              skipConditionChecks,\n              skipValidation,\n              state\n            }));\n            if (!acc.rows) {\n              acc.rows = [];\n            }\n            // First, check if `previousFormState` has a matching row\n            const previousRow = (previousFormState?.[path]?.rows || []).find(prevRow => prevRow.id === row.id);\n            const newRow = {\n              id: row.id,\n              isLoading: false\n            };\n            if (previousRow?.lastRenderedPath) {\n              newRow.lastRenderedPath = previousRow.lastRenderedPath;\n            }\n            // add addedByServer flag\n            if (!previousRow) {\n              newRow.addedByServer = true;\n            }\n            const isCollapsed = (0,_isRowCollapsed_js__WEBPACK_IMPORTED_MODULE_4__.isRowCollapsed)({\n              collapsedPrefs: preferences?.fields?.[path]?.collapsed,\n              field,\n              previousRow,\n              row\n            });\n            if (isCollapsed) {\n              newRow.collapsed = true;\n            }\n            acc.rows.push(newRow);\n            return acc;\n          }, {\n            promises: [],\n            rows: []\n          });\n          // Wait for all promises and update fields with the results\n          await Promise.all(promises);\n          if (rows) {\n            fieldState.rows = rows;\n          }\n          // Add values to field state\n          if (data[field.name] !== null) {\n            fieldState.value = forceFullValue ? arrayValue : arrayValue.length;\n            fieldState.initialValue = forceFullValue ? arrayValue : arrayValue.length;\n            if (arrayValue.length > 0) {\n              fieldState.disableFormData = true;\n            }\n          }\n          // Add field to state\n          if (!omitParents && (!filter || filter(args))) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'blocks':\n        {\n          const blocksValue = Array.isArray(data[field.name]) ? data[field.name] : [];\n          // Handle blocks filterOptions\n          let filterOptionsValidationResult = null;\n          if (field.filterOptions) {\n            filterOptionsValidationResult = await (0,payload__WEBPACK_IMPORTED_MODULE_1__.validateBlocksFilterOptions)({\n              id,\n              data: fullData,\n              filterOptions: field.filterOptions,\n              req,\n              siblingData: data,\n              value: data[field.name]\n            });\n            fieldState.blocksFilterOptions = filterOptionsValidationResult.allowedBlockSlugs;\n          }\n          const {\n            promises,\n            rowMetadata\n          } = blocksValue.reduce((acc, row, i) => {\n            const blockTypeToMatch = row.blockType;\n            const block = req.payload.blocks[blockTypeToMatch] ?? (field.blockReferences ?? field.blocks).find(blockType => typeof blockType !== 'string' && blockType.slug === blockTypeToMatch);\n            if (!block) {\n              throw new Error(`Block with type \"${row.blockType}\" was found in block data, but no block with that type is defined in the config for field with schema path ${schemaPath}.`);\n            }\n            const {\n              blockSelect,\n              blockSelectMode\n            } = (0,payload__WEBPACK_IMPORTED_MODULE_1__.getBlockSelect)({\n              block,\n              select: select?.[field.name],\n              selectMode\n            });\n            const parentPath = path + '.' + i;\n            if (block) {\n              row.id = row?.id || new ObjectId().toHexString();\n              if (!omitParents && (!filter || filter(args))) {\n                // Handle block `id` field\n                const idKey = parentPath + '.id';\n                state[idKey] = {\n                  initialValue: row.id,\n                  value: row.id\n                };\n                // If the blocks field fails filterOptions validation, add error paths to the individual blocks that are no longer allowed\n                if (filterOptionsValidationResult?.invalidBlockSlugs?.length && filterOptionsValidationResult.invalidBlockSlugs.includes(row.blockType)) {\n                  state[idKey].errorMessage = req.t('validation:invalidBlock', {\n                    block: row.blockType\n                  });\n                  state[idKey].valid = false;\n                  addErrorPathToParent(idKey);\n                  // If the error is due to block filterOptions, we want the blocks field (fieldState) to include all the filterOptions-related\n                  // error paths for each sub-block, not for the validation result of the block itself. Otherwise, say there are 2 invalid blocks,\n                  // the blocks field will have 3 instead of 2 error paths - one for itself, and one for each invalid block.\n                  // Instead, we want only the 2 error paths for the individual, invalid blocks.\n                  fieldState.errorPaths = fieldState.errorPaths.filter(errorPath => errorPath !== path);\n                }\n                if (includeSchema) {\n                  state[idKey].fieldSchema = includeSchema ? block.fields.find(blockField => (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldIsID)(blockField)) : undefined;\n                }\n                // Handle `blockType` field\n                const fieldKey = parentPath + '.blockType';\n                state[fieldKey] = {\n                  initialValue: row.blockType,\n                  value: row.blockType\n                };\n                if (addedByServer) {\n                  state[fieldKey].addedByServer = addedByServer;\n                }\n                if (includeSchema) {\n                  state[fieldKey].fieldSchema = block.fields.find(blockField => 'name' in blockField && blockField.name === 'blockType');\n                }\n                // Handle `blockName` field\n                const blockNameKey = parentPath + '.blockName';\n                state[blockNameKey] = {};\n                if (row.blockName) {\n                  state[blockNameKey].initialValue = row.blockName;\n                  state[blockNameKey].value = row.blockName;\n                }\n                if (includeSchema) {\n                  state[blockNameKey].fieldSchema = block.fields.find(blockField => 'name' in blockField && blockField.name === 'blockName');\n                }\n              }\n              acc.promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n                id,\n                addErrorPathToParent,\n                anyParentLocalized: field.localized || anyParentLocalized,\n                blockData: row,\n                clientFieldSchemaMap,\n                collectionSlug,\n                data: row,\n                fields: block.fields,\n                fieldSchemaMap,\n                filter,\n                forceFullValue,\n                fullData,\n                includeSchema,\n                mockRSCs,\n                omitParents,\n                operation,\n                parentIndexPath: '',\n                parentPassesCondition: passesCondition,\n                parentPath,\n                parentSchemaPath: schemaPath + '.' + block.slug,\n                permissions: fieldPermissions === true ? fieldPermissions : parentPermissions?.[field.name]?.blocks?.[block.slug] === true ? true : parentPermissions?.[field.name]?.blocks?.[block.slug]?.fields || {},\n                preferences,\n                previousFormState,\n                readOnly,\n                renderAllFields,\n                renderFieldFn,\n                req,\n                select: typeof blockSelect === 'object' ? blockSelect : undefined,\n                selectMode: blockSelectMode,\n                skipConditionChecks,\n                skipValidation,\n                state\n              }));\n              // First, check if `previousFormState` has a matching row\n              const previousRow = (previousFormState?.[path]?.rows || []).find(prevRow => prevRow.id === row.id);\n              const newRow = {\n                id: row.id,\n                blockType: row.blockType,\n                isLoading: false\n              };\n              if (previousRow?.lastRenderedPath) {\n                newRow.lastRenderedPath = previousRow.lastRenderedPath;\n              }\n              acc.rowMetadata.push(newRow);\n              const isCollapsed = (0,_isRowCollapsed_js__WEBPACK_IMPORTED_MODULE_4__.isRowCollapsed)({\n                collapsedPrefs: preferences?.fields?.[path]?.collapsed,\n                field,\n                previousRow,\n                row\n              });\n              if (isCollapsed) {\n                acc.rowMetadata[acc.rowMetadata.length - 1].collapsed = true;\n              }\n            }\n            return acc;\n          }, {\n            promises: [],\n            rowMetadata: []\n          });\n          await Promise.all(promises);\n          // Add values to field state\n          if (data[field.name] === null) {\n            fieldState.value = null;\n            fieldState.initialValue = null;\n          } else {\n            fieldState.value = forceFullValue ? blocksValue : blocksValue.length;\n            fieldState.initialValue = forceFullValue ? blocksValue : blocksValue.length;\n            if (blocksValue.length > 0) {\n              fieldState.disableFormData = true;\n            }\n          }\n          fieldState.rows = rowMetadata;\n          // Add field to state\n          if (!omitParents && (!filter || filter(args))) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'group':\n        {\n          if (!filter || filter(args)) {\n            fieldState.disableFormData = true;\n            state[path] = fieldState;\n          }\n          const groupSelect = select?.[field.name];\n          await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n            id,\n            addErrorPathToParent,\n            anyParentLocalized: field.localized || anyParentLocalized,\n            blockData,\n            clientFieldSchemaMap,\n            collectionSlug,\n            data: data?.[field.name] || {},\n            fields: field.fields,\n            fieldSchemaMap,\n            filter,\n            forceFullValue,\n            fullData,\n            includeSchema,\n            mockRSCs,\n            omitParents,\n            operation,\n            parentIndexPath: '',\n            parentPassesCondition: passesCondition,\n            parentPath: path,\n            parentSchemaPath: schemaPath,\n            permissions: typeof fieldPermissions === 'boolean' ? fieldPermissions : fieldPermissions?.fields,\n            preferences,\n            previousFormState,\n            readOnly,\n            renderAllFields,\n            renderFieldFn,\n            req,\n            select: typeof groupSelect === 'object' ? groupSelect : undefined,\n            selectMode,\n            skipConditionChecks,\n            skipValidation,\n            state\n          });\n          break;\n        }\n      case 'relationship':\n      case 'upload':\n        {\n          if (field.filterOptions) {\n            if (typeof field.filterOptions === 'object') {\n              if (typeof field.relationTo === 'string') {\n                fieldState.filterOptions = {\n                  [field.relationTo]: field.filterOptions\n                };\n              } else {\n                fieldState.filterOptions = field.relationTo.reduce((acc, relation) => {\n                  acc[relation] = field.filterOptions;\n                  return acc;\n                }, {});\n              }\n            }\n            if (typeof field.filterOptions === 'function') {\n              const query = await (0,_utilities_resolveFilterOptions_js__WEBPACK_IMPORTED_MODULE_5__.resolveFilterOptions)(field.filterOptions, {\n                id,\n                blockData,\n                data: fullData,\n                relationTo: field.relationTo,\n                req,\n                siblingData: data,\n                user: req.user\n              });\n              fieldState.filterOptions = query;\n            }\n          }\n          if (field.hasMany) {\n            const relationshipValue = Array.isArray(data[field.name]) ? data[field.name].map(relationship => {\n              if (Array.isArray(field.relationTo)) {\n                return {\n                  relationTo: relationship.relationTo,\n                  value: relationship.value && typeof relationship.value === 'object' ? relationship.value?.id : relationship.value\n                };\n              }\n              if (typeof relationship === 'object' && relationship !== null) {\n                return relationship.id;\n              }\n              return relationship;\n            }) : undefined;\n            fieldState.value = relationshipValue;\n            fieldState.initialValue = relationshipValue;\n          } else if (Array.isArray(field.relationTo)) {\n            if (data[field.name] && typeof data[field.name] === 'object' && 'relationTo' in data[field.name] && 'value' in data[field.name]) {\n              const value = typeof data[field.name]?.value === 'object' && data[field.name]?.value && 'id' in data[field.name].value ? data[field.name].value.id : data[field.name].value;\n              const relationshipValue = {\n                relationTo: data[field.name]?.relationTo,\n                value\n              };\n              fieldState.value = relationshipValue;\n              fieldState.initialValue = relationshipValue;\n            }\n          } else {\n            const relationshipValue = data[field.name] && typeof data[field.name] === 'object' && 'id' in data[field.name] ? data[field.name].id : data[field.name];\n            fieldState.value = relationshipValue;\n            fieldState.initialValue = relationshipValue;\n          }\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'select':\n        {\n          if (typeof field.filterOptions === 'function') {\n            fieldState.selectFilterOptions = field.filterOptions({\n              data: fullData,\n              options: field.options,\n              req,\n              siblingData: data\n            });\n          }\n          if (data[field.name] !== undefined) {\n            fieldState.value = data[field.name];\n            fieldState.initialValue = data[field.name];\n          }\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      default:\n        {\n          if (data[field.name] !== undefined) {\n            fieldState.value = data[field.name];\n            fieldState.initialValue = data[field.name];\n          }\n          // Add field to state\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n    }\n  } else if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldHasSubFields)(field) && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldAffectsData)(field)) {\n    // Handle field types that do not use names (row, collapsible, unnamed group etc)\n    if (!filter || filter(args)) {\n      state[path] = {\n        disableFormData: true\n      };\n      if (passesCondition === false) {\n        state[path].passesCondition = false;\n      }\n    }\n    await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n      id,\n      mockRSCs,\n      select,\n      selectMode,\n      // passthrough parent functionality\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized: (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldIsLocalized)(field) || anyParentLocalized,\n      blockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data,\n      fields: field.fields,\n      fieldSchemaMap,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      omitParents,\n      operation,\n      parentIndexPath: indexPath,\n      parentPassesCondition: passesCondition,\n      parentPath,\n      parentSchemaPath,\n      permissions: parentPermissions,\n      preferences,\n      previousFormState,\n      readOnly,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      skipConditionChecks,\n      skipValidation,\n      state\n    });\n  } else if (field.type === 'tabs') {\n    const promises = field.tabs.map((tab, tabIndex) => {\n      const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.tabHasName)(tab);\n      let tabSelect;\n      const tabField = {\n        ...tab,\n        type: 'tab'\n      };\n      const {\n        indexPath: tabIndexPath,\n        path: tabPath,\n        schemaPath: tabSchemaPath\n      } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.getFieldPaths)({\n        field: tabField,\n        index: tabIndex,\n        parentIndexPath: indexPath,\n        parentPath,\n        parentSchemaPath\n      });\n      let childPermissions = undefined;\n      if (isNamedTab) {\n        const shouldContinue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.stripUnselectedFields)({\n          field: tabField,\n          select,\n          selectMode,\n          siblingDoc: data?.[tab.name] || {}\n        });\n        if (!shouldContinue) {\n          return;\n        }\n        if (parentPermissions === true) {\n          childPermissions = true;\n        } else {\n          const tabPermissions = parentPermissions?.[tab.name];\n          if (tabPermissions === true) {\n            childPermissions = true;\n          } else {\n            childPermissions = tabPermissions?.fields;\n          }\n        }\n        if (typeof select?.[tab.name] === 'object') {\n          tabSelect = select?.[tab.name];\n        }\n      } else {\n        childPermissions = parentPermissions;\n        tabSelect = select;\n      }\n      const pathSegments = path ? path.split('.') : [];\n      // If passesCondition is false then this should always result to false\n      // If the tab has no admin.condition provided then fallback to passesCondition and let that decide the result\n      let tabPassesCondition = passesCondition;\n      if (passesCondition && typeof tab.admin?.condition === 'function') {\n        tabPassesCondition = tab.admin.condition(fullData, data, {\n          blockData,\n          operation,\n          path: pathSegments,\n          user: req.user\n        });\n      }\n      if (tab?.id) {\n        state[tab.id] = {\n          passesCondition: tabPassesCondition\n        };\n      }\n      return (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n        id,\n        addErrorPathToParent: addErrorPathToParentArg,\n        anyParentLocalized: tab.localized || anyParentLocalized,\n        blockData,\n        clientFieldSchemaMap,\n        collectionSlug,\n        data: isNamedTab ? data?.[tab.name] || {} : data,\n        fields: tab.fields,\n        fieldSchemaMap,\n        filter,\n        forceFullValue,\n        fullData,\n        includeSchema,\n        mockRSCs,\n        omitParents,\n        operation,\n        parentIndexPath: isNamedTab ? '' : tabIndexPath,\n        parentPassesCondition: tabPassesCondition,\n        parentPath: isNamedTab ? tabPath : parentPath,\n        parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n        permissions: childPermissions,\n        preferences,\n        previousFormState,\n        readOnly,\n        renderAllFields,\n        renderFieldFn,\n        req,\n        select: tabSelect,\n        selectMode,\n        skipConditionChecks,\n        skipValidation,\n        state\n      });\n    });\n    await Promise.all(promises);\n  } else if (field.type === 'ui') {\n    if (!filter || filter(args)) {\n      state[path] = fieldState;\n      state[path].disableFormData = true;\n    }\n  }\n  if (renderFieldFn && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.fieldIsHiddenOrDisabled)(field)) {\n    const fieldConfig = fieldSchemaMap.get(schemaPath);\n    if (!fieldConfig && !mockRSCs) {\n      if (schemaPath.endsWith('.blockType')) {\n        return;\n      } else {\n        throw new Error(`Field config not found for ${schemaPath}`);\n      }\n    }\n    if (!state[path]) {\n      // Some fields (ie `Tab`) do not live in form state\n      // therefore we cannot attach customComponents to them\n      return;\n    }\n    if (addedByServer) {\n      state[path].addedByServer = addedByServer;\n    }\n    renderFieldFn({\n      id,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: fullData,\n      fieldConfig: fieldConfig,\n      fieldSchemaMap,\n      fieldState: state[path],\n      formState: state,\n      indexPath,\n      lastRenderedPath,\n      mockRSCs,\n      operation,\n      parentPath,\n      parentSchemaPath,\n      path,\n      permissions: fieldPermissions,\n      preferences,\n      previousFieldState: previousFormState?.[path],\n      readOnly,\n      renderAllFields,\n      req,\n      schemaPath,\n      siblingData: data\n    });\n  }\n};\n//# sourceMappingURL=addFieldStatePromise.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9hZGRGaWVsZFN0YXRlUHJvbWlzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ2tEO0FBQytFO0FBQzdGO0FBQzFCO0FBQ0Y7QUFDbkQsaUJBQWlCLHVEQUEyQixHQUFHLHFEQUFzQixHQUFHLDBDQUFjO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnRUFBZ0IsWUFBWSx1RUFBdUI7QUFDekQsd0VBQXdFLG9FQUFvQjtBQUM1RixxREFBcUQsb0VBQW9CO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSLDhEQUE4RCxLQUFLO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSx5REFBUztBQUMvRTtBQUNBO0FBQ0EsOEJBQThCLGdFQUFhO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3R0FBd0c7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxrRUFBYztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0VBQTJCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxjQUFjLDZHQUE2RyxXQUFXO0FBQ3hMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxFQUFFLHVEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2Rix5REFBUztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0VBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVOQUF1TjtBQUN2TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0VBQWM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msd0ZBQW9CO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsaUVBQWlCLFlBQVksZ0VBQWdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0VBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLHlCQUF5QiwwREFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEVBQUUsNkRBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsK0JBQStCLDhEQUFxQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnRUFBYTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHNEQUFzRCxXQUFXO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxWSVRBXFxOZXh0anNcXHBheWxvYWQtcGx1Z2luc1xcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrdWlAMy41OS4xX0B0eXBlcytyZWFjdEAxOS4xLjhfbW9uYWNvLWVkaXRvckAwLjU0LjBfbmV4dEAxNS40LjRfQGJhYmVsK2NvcmVANy4yOC40X2YzZXkzaWhranpyamo1Y3A2bnNtYWp5aHdxXFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFx1aVxcZGlzdFxcZm9ybXNcXGZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlXFxhZGRGaWVsZFN0YXRlUHJvbWlzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT2JqZWN0SWRJbXBvcnQgZnJvbSAnYnNvbi1vYmplY3RpZCc7XG5pbXBvcnQgeyBnZXRCbG9ja1NlbGVjdCwgc3RyaXBVbnNlbGVjdGVkRmllbGRzLCB2YWxpZGF0ZUJsb2Nrc0ZpbHRlck9wdGlvbnMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGRlZXBDb3B5T2JqZWN0U2ltcGxlLCBmaWVsZEFmZmVjdHNEYXRhLCBmaWVsZEhhc1N1YkZpZWxkcywgZmllbGRJc0hpZGRlbk9yRGlzYWJsZWQsIGZpZWxkSXNJRCwgZmllbGRJc0xvY2FsaXplZCwgZ2V0RmllbGRQYXRocywgdGFiSGFzTmFtZSB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbmltcG9ydCB7IHJlc29sdmVGaWx0ZXJPcHRpb25zIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL3Jlc29sdmVGaWx0ZXJPcHRpb25zLmpzJztcbmltcG9ydCB7IGlzUm93Q29sbGFwc2VkIH0gZnJvbSAnLi9pc1Jvd0NvbGxhcHNlZC5qcyc7XG5pbXBvcnQgeyBpdGVyYXRlRmllbGRzIH0gZnJvbSAnLi9pdGVyYXRlRmllbGRzLmpzJztcbmNvbnN0IE9iamVjdElkID0gJ2RlZmF1bHQnIGluIE9iamVjdElkSW1wb3J0ID8gT2JqZWN0SWRJbXBvcnQuZGVmYXVsdCA6IE9iamVjdElkSW1wb3J0O1xuLyoqXG4gKiBGbGF0dGVucyB0aGUgZmllbGRzIHNjaGVtYSBhbmQgZmllbGRzIGRhdGEuXG4gKiBUaGUgb3V0cHV0IGlzIHRoZSBmaWVsZCBwYXRoIChlLmcuIGFycmF5LjAubmFtZSkgbWFwcGVkIHRvIGEgRm9ybUZpZWxkIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGFkZEZpZWxkU3RhdGVQcm9taXNlID0gYXN5bmMgYXJncyA9PiB7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gICAgYW55UGFyZW50TG9jYWxpemVkID0gZmFsc2UsXG4gICAgYmxvY2tEYXRhLFxuICAgIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgIGRhdGEsXG4gICAgZmllbGQsXG4gICAgZmllbGRTY2hlbWFNYXAsXG4gICAgZmlsdGVyLFxuICAgIGZvcmNlRnVsbFZhbHVlID0gZmFsc2UsXG4gICAgZnVsbERhdGEsXG4gICAgaW5jbHVkZVNjaGVtYSA9IGZhbHNlLFxuICAgIGluZGV4UGF0aCxcbiAgICBtb2NrUlNDcyxcbiAgICBvbWl0UGFyZW50cyA9IGZhbHNlLFxuICAgIG9wZXJhdGlvbixcbiAgICBwYXJlbnRQYXRoLFxuICAgIHBhcmVudFBlcm1pc3Npb25zLFxuICAgIHBhcmVudFNjaGVtYVBhdGgsXG4gICAgcGFzc2VzQ29uZGl0aW9uLFxuICAgIHBhdGgsXG4gICAgcHJlZmVyZW5jZXMsXG4gICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgcmVhZE9ubHksXG4gICAgcmVuZGVyQWxsRmllbGRzLFxuICAgIHJlbmRlckZpZWxkRm4sXG4gICAgcmVxLFxuICAgIHNjaGVtYVBhdGgsXG4gICAgc2VsZWN0LFxuICAgIHNlbGVjdE1vZGUsXG4gICAgc2tpcENvbmRpdGlvbkNoZWNrcyA9IGZhbHNlLFxuICAgIHNraXBWYWxpZGF0aW9uID0gZmFsc2UsXG4gICAgc3RhdGVcbiAgfSA9IGFyZ3M7XG4gIGlmICghYXJncy5jbGllbnRGaWVsZFNjaGVtYU1hcCAmJiBhcmdzLnJlbmRlckZpZWxkRm4pIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybignY2xpZW50RmllbGRTY2hlbWFNYXAgaXMgbm90IHBhc3NlZCB0byBhZGRGaWVsZFN0YXRlUHJvbWlzZSAtIHRoaXMgd2lsbCByZWR1Y2UgcGVyZm9ybWFuY2UnKTtcbiAgfVxuICBsZXQgZmllbGRQZXJtaXNzaW9ucyA9IHRydWU7XG4gIGNvbnN0IGZpZWxkU3RhdGUgPSB7fTtcbiAgY29uc3QgbGFzdFJlbmRlcmVkUGF0aCA9IHByZXZpb3VzRm9ybVN0YXRlPy5bcGF0aF0/Lmxhc3RSZW5kZXJlZFBhdGg7XG4gIC8vIEFwcGVuZCBvbmx5IGlmIHRydWUgdG8gYXZvaWQgc2VuZGluZyAnJHVuZGVmaW5lZCcgdGhyb3VnaCB0aGUgbmV0d29ya1xuICBpZiAobGFzdFJlbmRlcmVkUGF0aCkge1xuICAgIGZpZWxkU3RhdGUubGFzdFJlbmRlcmVkUGF0aCA9IGxhc3RSZW5kZXJlZFBhdGg7XG4gIH1cbiAgLy8gSWYgd2UncmUgcmVuZGVyaW5nIGFsbCBmaWVsZHMsIG5vIG5lZWQgdG8gZmxhZyB0aGlzIGFzIGFkZGVkIGJ5IHNlcnZlclxuICBjb25zdCBhZGRlZEJ5U2VydmVyID0gIXJlbmRlckFsbEZpZWxkcyAmJiAhcHJldmlvdXNGb3JtU3RhdGU/LltwYXRoXTtcbiAgLy8gQXBwZW5kIG9ubHkgaWYgdHJ1ZSB0byBhdm9pZCBzZW5kaW5nICckdW5kZWZpbmVkJyB0aHJvdWdoIHRoZSBuZXR3b3JrXG4gIGlmIChhZGRlZEJ5U2VydmVyKSB7XG4gICAgZmllbGRTdGF0ZS5hZGRlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgfVxuICAvLyBBcHBlbmQgb25seSBpZiB0cnVlIHRvIGF2b2lkIHNlbmRpbmcgJyR1bmRlZmluZWQnIHRocm91Z2ggdGhlIG5ldHdvcmtcbiAgaWYgKHBhc3Nlc0NvbmRpdGlvbiA9PT0gZmFsc2UpIHtcbiAgICBmaWVsZFN0YXRlLnBhc3Nlc0NvbmRpdGlvbiA9IGZhbHNlO1xuICB9XG4gIC8vIEFwcGVuZCBvbmx5IGlmIHRydWUgdG8gYXZvaWQgc2VuZGluZyAnJHVuZGVmaW5lZCcgdGhyb3VnaCB0aGUgbmV0d29ya1xuICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgIGZpZWxkU3RhdGUuZmllbGRTY2hlbWEgPSBmaWVsZDtcbiAgfVxuICBpZiAoZmllbGRBZmZlY3RzRGF0YShmaWVsZCkgJiYgIWZpZWxkSXNIaWRkZW5PckRpc2FibGVkKGZpZWxkKSkge1xuICAgIGZpZWxkUGVybWlzc2lvbnMgPSBwYXJlbnRQZXJtaXNzaW9ucyA9PT0gdHJ1ZSA/IHBhcmVudFBlcm1pc3Npb25zIDogZGVlcENvcHlPYmplY3RTaW1wbGUocGFyZW50UGVybWlzc2lvbnM/LltmaWVsZC5uYW1lXSk7XG4gICAgbGV0IGhhc1Blcm1pc3Npb24gPSBmaWVsZFBlcm1pc3Npb25zID09PSB0cnVlIHx8IGRlZXBDb3B5T2JqZWN0U2ltcGxlKGZpZWxkUGVybWlzc2lvbnM/LnJlYWQpO1xuICAgIGlmICh0eXBlb2YgZmllbGQ/LmFjY2Vzcz8ucmVhZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaGFzUGVybWlzc2lvbiA9IGF3YWl0IGZpZWxkLmFjY2Vzcy5yZWFkKHtcbiAgICAgICAgaWQsXG4gICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgZGF0YTogZnVsbERhdGEsXG4gICAgICAgIHJlcSxcbiAgICAgICAgc2libGluZ0RhdGE6IGRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYXNQZXJtaXNzaW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRlID0gZmllbGQudmFsaWRhdGU7XG4gICAgbGV0IHZhbGlkYXRpb25SZXN1bHQgPSB0cnVlO1xuICAgIGlmICh0eXBlb2YgdmFsaWRhdGUgPT09ICdmdW5jdGlvbicgJiYgIXNraXBWYWxpZGF0aW9uICYmIHBhc3Nlc0NvbmRpdGlvbikge1xuICAgICAgbGV0IGpzb25FcnJvcjtcbiAgICAgIGlmIChmaWVsZC50eXBlID09PSAnanNvbicgJiYgdHlwZW9mIGRhdGFbZmllbGQubmFtZV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgSlNPTi5wYXJzZShkYXRhW2ZpZWxkLm5hbWVdKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGpzb25FcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZShkYXRhPy5bZmllbGQubmFtZV0sIHtcbiAgICAgICAgICAuLi5maWVsZCxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBibG9ja0RhdGEsXG4gICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgZGF0YTogZnVsbERhdGEsXG4gICAgICAgICAgZXZlbnQ6ICdvbkNoYW5nZScsXG4gICAgICAgICAgLy8gQEFsZXNzaW9HciBhZGRlZCBganNvbkVycm9yYCBpbiBodHRwczovL2dpdGh1Yi5jb20vcGF5bG9hZGNtcy9wYXlsb2FkL2NvbW1pdC9jN2VhNjJhMzk0NzM0MDhjM2VhOTEyYzRmYmY3M2UxMWJlNGI1MzhkXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvci1uZXh0LWxpbmVcbiAgICAgICAgICBqc29uRXJyb3IsXG4gICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICAgIHByZXZpb3VzVmFsdWU6IHByZXZpb3VzRm9ybVN0YXRlPy5bcGF0aF0/LmluaXRpYWxWYWx1ZSxcbiAgICAgICAgICByZXEsXG4gICAgICAgICAgc2libGluZ0RhdGE6IGRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdCA9IGBFcnJvciB2YWxpZGF0aW5nIGZpZWxkIGF0IHBhdGg6ICR7cGF0aH1gO1xuICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgIGVycixcbiAgICAgICAgICBtc2c6IHZhbGlkYXRpb25SZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogVGhpcyBmdW5jdGlvbiBhZGRzIHRoZSBlcnJvciAqKnBhdGgqKiB0byB0aGUgY3VycmVudCBmaWVsZCBhbmQgYWxsIGl0cyBwYXJlbnRzLiBJZiBhIGZpZWxkIGlzIGludmFsaWQsIGFsbCBpdHMgcGFyZW50cyBhcmUgYWxzbyBpbnZhbGlkLlxuICAgICogSXQgZG9lcyBub3QgYWRkIHRoZSBlcnJvciAqKm1lc3NhZ2UqKiB0byB0aGUgY3VycmVudCBmaWVsZCwgYXMgdGhhdCBzaG91bGRuJ3QgYXBwbHkgdG8gYWxsIHBhcmVudHMuXG4gICAgKiBUaGlzIGlzIGRvbmUgc2VwYXJhdGVseSBiZWxvdy5cbiAgICAqL1xuICAgIGNvbnN0IGFkZEVycm9yUGF0aFRvUGFyZW50ID0gZXJyb3JQYXRoID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcoZXJyb3JQYXRoKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmllbGRTdGF0ZS5lcnJvclBhdGhzKSB7XG4gICAgICAgIGZpZWxkU3RhdGUuZXJyb3JQYXRocyA9IFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWVsZFN0YXRlLmVycm9yUGF0aHMuaW5jbHVkZXMoZXJyb3JQYXRoKSkge1xuICAgICAgICBmaWVsZFN0YXRlLmVycm9yUGF0aHMucHVzaChlcnJvclBhdGgpO1xuICAgICAgICBmaWVsZFN0YXRlLnZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHZhbGlkYXRpb25SZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBmaWVsZFN0YXRlLmVycm9yTWVzc2FnZSA9IHZhbGlkYXRpb25SZXN1bHQ7XG4gICAgICBmaWVsZFN0YXRlLnZhbGlkID0gZmFsc2U7XG4gICAgICBhZGRFcnJvclBhdGhUb1BhcmVudChwYXRoKTtcbiAgICB9XG4gICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gQXJyYXkuaXNBcnJheShkYXRhW2ZpZWxkLm5hbWVdKSA/IGRhdGFbZmllbGQubmFtZV0gOiBbXTtcbiAgICAgICAgICBjb25zdCBhcnJheVNlbGVjdCA9IHNlbGVjdD8uW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHByb21pc2VzLFxuICAgICAgICAgICAgcm93c1xuICAgICAgICAgIH0gPSBhcnJheVZhbHVlLnJlZHVjZSgoYWNjLCByb3csIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSBwYXRoICsgJy4nICsgaTtcbiAgICAgICAgICAgIHJvdy5pZCA9IHJvdz8uaWQgfHwgbmV3IE9iamVjdElkKCkudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghb21pdFBhcmVudHMgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSkge1xuICAgICAgICAgICAgICBjb25zdCBpZEtleSA9IHBhcmVudFBhdGggKyAnLmlkJztcbiAgICAgICAgICAgICAgc3RhdGVbaWRLZXldID0ge1xuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogcm93LmlkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByb3cuaWRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKGluY2x1ZGVTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZVtpZEtleV0uZmllbGRTY2hlbWEgPSBmaWVsZC5maWVsZHMuZmluZChmaWVsZCA9PiBmaWVsZElzSUQoZmllbGQpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjLnByb21pc2VzLnB1c2goaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBhZGRFcnJvclBhdGhUb1BhcmVudCxcbiAgICAgICAgICAgICAgYW55UGFyZW50TG9jYWxpemVkOiBmaWVsZC5sb2NhbGl6ZWQgfHwgYW55UGFyZW50TG9jYWxpemVkLFxuICAgICAgICAgICAgICBibG9ja0RhdGEsXG4gICAgICAgICAgICAgIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgZGF0YTogcm93LFxuICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgICAgZm9yY2VGdWxsVmFsdWUsXG4gICAgICAgICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICAgICAgICBpbmNsdWRlU2NoZW1hLFxuICAgICAgICAgICAgICBtb2NrUlNDcyxcbiAgICAgICAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiAnJyxcbiAgICAgICAgICAgICAgcGFyZW50UGFzc2VzQ29uZGl0aW9uOiBwYXNzZXNDb25kaXRpb24sXG4gICAgICAgICAgICAgIHBhcmVudFBhdGgsXG4gICAgICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IHNjaGVtYVBhdGgsXG4gICAgICAgICAgICAgIHBlcm1pc3Npb25zOiBmaWVsZFBlcm1pc3Npb25zID09PSB0cnVlID8gZmllbGRQZXJtaXNzaW9ucyA6IGZpZWxkUGVybWlzc2lvbnM/LmZpZWxkcyB8fCB7fSxcbiAgICAgICAgICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgIHByZXZpb3VzRm9ybVN0YXRlLFxuICAgICAgICAgICAgICByZWFkT25seSxcbiAgICAgICAgICAgICAgcmVuZGVyQWxsRmllbGRzLFxuICAgICAgICAgICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgIHNlbGVjdDogdHlwZW9mIGFycmF5U2VsZWN0ID09PSAnb2JqZWN0JyA/IGFycmF5U2VsZWN0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgICAgICBza2lwQ29uZGl0aW9uQ2hlY2tzLFxuICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbixcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmICghYWNjLnJvd3MpIHtcbiAgICAgICAgICAgICAgYWNjLnJvd3MgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpcnN0LCBjaGVjayBpZiBgcHJldmlvdXNGb3JtU3RhdGVgIGhhcyBhIG1hdGNoaW5nIHJvd1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNSb3cgPSAocHJldmlvdXNGb3JtU3RhdGU/LltwYXRoXT8ucm93cyB8fCBbXSkuZmluZChwcmV2Um93ID0+IHByZXZSb3cuaWQgPT09IHJvdy5pZCk7XG4gICAgICAgICAgICBjb25zdCBuZXdSb3cgPSB7XG4gICAgICAgICAgICAgIGlkOiByb3cuaWQsXG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocHJldmlvdXNSb3c/Lmxhc3RSZW5kZXJlZFBhdGgpIHtcbiAgICAgICAgICAgICAgbmV3Um93Lmxhc3RSZW5kZXJlZFBhdGggPSBwcmV2aW91c1Jvdy5sYXN0UmVuZGVyZWRQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWRkIGFkZGVkQnlTZXJ2ZXIgZmxhZ1xuICAgICAgICAgICAgaWYgKCFwcmV2aW91c1Jvdykge1xuICAgICAgICAgICAgICBuZXdSb3cuYWRkZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc0NvbGxhcHNlZCA9IGlzUm93Q29sbGFwc2VkKHtcbiAgICAgICAgICAgICAgY29sbGFwc2VkUHJlZnM6IHByZWZlcmVuY2VzPy5maWVsZHM/LltwYXRoXT8uY29sbGFwc2VkLFxuICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgcHJldmlvdXNSb3csXG4gICAgICAgICAgICAgIHJvd1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgbmV3Um93LmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2Mucm93cy5wdXNoKG5ld1Jvdyk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHByb21pc2VzOiBbXSxcbiAgICAgICAgICAgIHJvd3M6IFtdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gV2FpdCBmb3IgYWxsIHByb21pc2VzIGFuZCB1cGRhdGUgZmllbGRzIHdpdGggdGhlIHJlc3VsdHNcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgaWYgKHJvd3MpIHtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUucm93cyA9IHJvd3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFkZCB2YWx1ZXMgdG8gZmllbGQgc3RhdGVcbiAgICAgICAgICBpZiAoZGF0YVtmaWVsZC5uYW1lXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IGZvcmNlRnVsbFZhbHVlID8gYXJyYXlWYWx1ZSA6IGFycmF5VmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5pbml0aWFsVmFsdWUgPSBmb3JjZUZ1bGxWYWx1ZSA/IGFycmF5VmFsdWUgOiBhcnJheVZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChhcnJheVZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgZmllbGRTdGF0ZS5kaXNhYmxlRm9ybURhdGEgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBZGQgZmllbGQgdG8gc3RhdGVcbiAgICAgICAgICBpZiAoIW9taXRQYXJlbnRzICYmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkpIHtcbiAgICAgICAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2Jsb2Nrcyc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBibG9ja3NWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZGF0YVtmaWVsZC5uYW1lXSkgPyBkYXRhW2ZpZWxkLm5hbWVdIDogW107XG4gICAgICAgICAgLy8gSGFuZGxlIGJsb2NrcyBmaWx0ZXJPcHRpb25zXG4gICAgICAgICAgbGV0IGZpbHRlck9wdGlvbnNWYWxpZGF0aW9uUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICBpZiAoZmllbGQuZmlsdGVyT3B0aW9ucykge1xuICAgICAgICAgICAgZmlsdGVyT3B0aW9uc1ZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUJsb2Nrc0ZpbHRlck9wdGlvbnMoe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgZGF0YTogZnVsbERhdGEsXG4gICAgICAgICAgICAgIGZpbHRlck9wdGlvbnM6IGZpZWxkLmZpbHRlck9wdGlvbnMsXG4gICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgc2libGluZ0RhdGE6IGRhdGEsXG4gICAgICAgICAgICAgIHZhbHVlOiBkYXRhW2ZpZWxkLm5hbWVdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuYmxvY2tzRmlsdGVyT3B0aW9ucyA9IGZpbHRlck9wdGlvbnNWYWxpZGF0aW9uUmVzdWx0LmFsbG93ZWRCbG9ja1NsdWdzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwcm9taXNlcyxcbiAgICAgICAgICAgIHJvd01ldGFkYXRhXG4gICAgICAgICAgfSA9IGJsb2Nrc1ZhbHVlLnJlZHVjZSgoYWNjLCByb3csIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrVHlwZVRvTWF0Y2ggPSByb3cuYmxvY2tUeXBlO1xuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSByZXEucGF5bG9hZC5ibG9ja3NbYmxvY2tUeXBlVG9NYXRjaF0gPz8gKGZpZWxkLmJsb2NrUmVmZXJlbmNlcyA/PyBmaWVsZC5ibG9ja3MpLmZpbmQoYmxvY2tUeXBlID0+IHR5cGVvZiBibG9ja1R5cGUgIT09ICdzdHJpbmcnICYmIGJsb2NrVHlwZS5zbHVnID09PSBibG9ja1R5cGVUb01hdGNoKTtcbiAgICAgICAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCbG9jayB3aXRoIHR5cGUgXCIke3Jvdy5ibG9ja1R5cGV9XCIgd2FzIGZvdW5kIGluIGJsb2NrIGRhdGEsIGJ1dCBubyBibG9jayB3aXRoIHRoYXQgdHlwZSBpcyBkZWZpbmVkIGluIHRoZSBjb25maWcgZm9yIGZpZWxkIHdpdGggc2NoZW1hIHBhdGggJHtzY2hlbWFQYXRofS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgYmxvY2tTZWxlY3QsXG4gICAgICAgICAgICAgIGJsb2NrU2VsZWN0TW9kZVxuICAgICAgICAgICAgfSA9IGdldEJsb2NrU2VsZWN0KHtcbiAgICAgICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgICAgIHNlbGVjdDogc2VsZWN0Py5bZmllbGQubmFtZV0sXG4gICAgICAgICAgICAgIHNlbGVjdE1vZGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UGF0aCA9IHBhdGggKyAnLicgKyBpO1xuICAgICAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICAgIHJvdy5pZCA9IHJvdz8uaWQgfHwgbmV3IE9iamVjdElkKCkudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgICAgaWYgKCFvbWl0UGFyZW50cyAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGJsb2NrIGBpZGAgZmllbGRcbiAgICAgICAgICAgICAgICBjb25zdCBpZEtleSA9IHBhcmVudFBhdGggKyAnLmlkJztcbiAgICAgICAgICAgICAgICBzdGF0ZVtpZEtleV0gPSB7XG4gICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IHJvdy5pZCxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cuaWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBibG9ja3MgZmllbGQgZmFpbHMgZmlsdGVyT3B0aW9ucyB2YWxpZGF0aW9uLCBhZGQgZXJyb3IgcGF0aHMgdG8gdGhlIGluZGl2aWR1YWwgYmxvY2tzIHRoYXQgYXJlIG5vIGxvbmdlciBhbGxvd2VkXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlck9wdGlvbnNWYWxpZGF0aW9uUmVzdWx0Py5pbnZhbGlkQmxvY2tTbHVncz8ubGVuZ3RoICYmIGZpbHRlck9wdGlvbnNWYWxpZGF0aW9uUmVzdWx0LmludmFsaWRCbG9ja1NsdWdzLmluY2x1ZGVzKHJvdy5ibG9ja1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZVtpZEtleV0uZXJyb3JNZXNzYWdlID0gcmVxLnQoJ3ZhbGlkYXRpb246aW52YWxpZEJsb2NrJywge1xuICAgICAgICAgICAgICAgICAgICBibG9jazogcm93LmJsb2NrVHlwZVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBzdGF0ZVtpZEtleV0udmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50KGlkS2V5KTtcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlcnJvciBpcyBkdWUgdG8gYmxvY2sgZmlsdGVyT3B0aW9ucywgd2Ugd2FudCB0aGUgYmxvY2tzIGZpZWxkIChmaWVsZFN0YXRlKSB0byBpbmNsdWRlIGFsbCB0aGUgZmlsdGVyT3B0aW9ucy1yZWxhdGVkXG4gICAgICAgICAgICAgICAgICAvLyBlcnJvciBwYXRocyBmb3IgZWFjaCBzdWItYmxvY2ssIG5vdCBmb3IgdGhlIHZhbGlkYXRpb24gcmVzdWx0IG9mIHRoZSBibG9jayBpdHNlbGYuIE90aGVyd2lzZSwgc2F5IHRoZXJlIGFyZSAyIGludmFsaWQgYmxvY2tzLFxuICAgICAgICAgICAgICAgICAgLy8gdGhlIGJsb2NrcyBmaWVsZCB3aWxsIGhhdmUgMyBpbnN0ZWFkIG9mIDIgZXJyb3IgcGF0aHMgLSBvbmUgZm9yIGl0c2VsZiwgYW5kIG9uZSBmb3IgZWFjaCBpbnZhbGlkIGJsb2NrLlxuICAgICAgICAgICAgICAgICAgLy8gSW5zdGVhZCwgd2Ugd2FudCBvbmx5IHRoZSAyIGVycm9yIHBhdGhzIGZvciB0aGUgaW5kaXZpZHVhbCwgaW52YWxpZCBibG9ja3MuXG4gICAgICAgICAgICAgICAgICBmaWVsZFN0YXRlLmVycm9yUGF0aHMgPSBmaWVsZFN0YXRlLmVycm9yUGF0aHMuZmlsdGVyKGVycm9yUGF0aCA9PiBlcnJvclBhdGggIT09IHBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbaWRLZXldLmZpZWxkU2NoZW1hID0gaW5jbHVkZVNjaGVtYSA/IGJsb2NrLmZpZWxkcy5maW5kKGJsb2NrRmllbGQgPT4gZmllbGRJc0lEKGJsb2NrRmllbGQpKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGBibG9ja1R5cGVgIGZpZWxkXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRLZXkgPSBwYXJlbnRQYXRoICsgJy5ibG9ja1R5cGUnO1xuICAgICAgICAgICAgICAgIHN0YXRlW2ZpZWxkS2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogcm93LmJsb2NrVHlwZSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cuYmxvY2tUeXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkZWRCeVNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbZmllbGRLZXldLmFkZGVkQnlTZXJ2ZXIgPSBhZGRlZEJ5U2VydmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbZmllbGRLZXldLmZpZWxkU2NoZW1hID0gYmxvY2suZmllbGRzLmZpbmQoYmxvY2tGaWVsZCA9PiAnbmFtZScgaW4gYmxvY2tGaWVsZCAmJiBibG9ja0ZpZWxkLm5hbWUgPT09ICdibG9ja1R5cGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGBibG9ja05hbWVgIGZpZWxkXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvY2tOYW1lS2V5ID0gcGFyZW50UGF0aCArICcuYmxvY2tOYW1lJztcbiAgICAgICAgICAgICAgICBzdGF0ZVtibG9ja05hbWVLZXldID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHJvdy5ibG9ja05hbWUpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlW2Jsb2NrTmFtZUtleV0uaW5pdGlhbFZhbHVlID0gcm93LmJsb2NrTmFtZTtcbiAgICAgICAgICAgICAgICAgIHN0YXRlW2Jsb2NrTmFtZUtleV0udmFsdWUgPSByb3cuYmxvY2tOYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbYmxvY2tOYW1lS2V5XS5maWVsZFNjaGVtYSA9IGJsb2NrLmZpZWxkcy5maW5kKGJsb2NrRmllbGQgPT4gJ25hbWUnIGluIGJsb2NrRmllbGQgJiYgYmxvY2tGaWVsZC5uYW1lID09PSAnYmxvY2tOYW1lJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFjYy5wcm9taXNlcy5wdXNoKGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50LFxuICAgICAgICAgICAgICAgIGFueVBhcmVudExvY2FsaXplZDogZmllbGQubG9jYWxpemVkIHx8IGFueVBhcmVudExvY2FsaXplZCxcbiAgICAgICAgICAgICAgICBibG9ja0RhdGE6IHJvdyxcbiAgICAgICAgICAgICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgICBkYXRhOiByb3csXG4gICAgICAgICAgICAgICAgZmllbGRzOiBibG9jay5maWVsZHMsXG4gICAgICAgICAgICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIGZvcmNlRnVsbFZhbHVlLFxuICAgICAgICAgICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVTY2hlbWEsXG4gICAgICAgICAgICAgICAgbW9ja1JTQ3MsXG4gICAgICAgICAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICAgICAgICAgICAgcGFyZW50UGFzc2VzQ29uZGl0aW9uOiBwYXNzZXNDb25kaXRpb24sXG4gICAgICAgICAgICAgICAgcGFyZW50UGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBzY2hlbWFQYXRoICsgJy4nICsgYmxvY2suc2x1ZyxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogZmllbGRQZXJtaXNzaW9ucyA9PT0gdHJ1ZSA/IGZpZWxkUGVybWlzc2lvbnMgOiBwYXJlbnRQZXJtaXNzaW9ucz8uW2ZpZWxkLm5hbWVdPy5ibG9ja3M/LltibG9jay5zbHVnXSA9PT0gdHJ1ZSA/IHRydWUgOiBwYXJlbnRQZXJtaXNzaW9ucz8uW2ZpZWxkLm5hbWVdPy5ibG9ja3M/LltibG9jay5zbHVnXT8uZmllbGRzIHx8IHt9LFxuICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzRm9ybVN0YXRlLFxuICAgICAgICAgICAgICAgIHJlYWRPbmx5LFxuICAgICAgICAgICAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgICAgICAgICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHR5cGVvZiBibG9ja1NlbGVjdCA9PT0gJ29iamVjdCcgPyBibG9ja1NlbGVjdCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZWxlY3RNb2RlOiBibG9ja1NlbGVjdE1vZGUsXG4gICAgICAgICAgICAgICAgc2tpcENvbmRpdGlvbkNoZWNrcyxcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbixcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIC8vIEZpcnN0LCBjaGVjayBpZiBgcHJldmlvdXNGb3JtU3RhdGVgIGhhcyBhIG1hdGNoaW5nIHJvd1xuICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1JvdyA9IChwcmV2aW91c0Zvcm1TdGF0ZT8uW3BhdGhdPy5yb3dzIHx8IFtdKS5maW5kKHByZXZSb3cgPT4gcHJldlJvdy5pZCA9PT0gcm93LmlkKTtcbiAgICAgICAgICAgICAgY29uc3QgbmV3Um93ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByb3cuaWQsXG4gICAgICAgICAgICAgICAgYmxvY2tUeXBlOiByb3cuYmxvY2tUeXBlLFxuICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKHByZXZpb3VzUm93Py5sYXN0UmVuZGVyZWRQYXRoKSB7XG4gICAgICAgICAgICAgICAgbmV3Um93Lmxhc3RSZW5kZXJlZFBhdGggPSBwcmV2aW91c1Jvdy5sYXN0UmVuZGVyZWRQYXRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFjYy5yb3dNZXRhZGF0YS5wdXNoKG5ld1Jvdyk7XG4gICAgICAgICAgICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gaXNSb3dDb2xsYXBzZWQoe1xuICAgICAgICAgICAgICAgIGNvbGxhcHNlZFByZWZzOiBwcmVmZXJlbmNlcz8uZmllbGRzPy5bcGF0aF0/LmNvbGxhcHNlZCxcbiAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICBwcmV2aW91c1JvdyxcbiAgICAgICAgICAgICAgICByb3dcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGFjYy5yb3dNZXRhZGF0YVthY2Mucm93TWV0YWRhdGEubGVuZ3RoIC0gMV0uY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBwcm9taXNlczogW10sXG4gICAgICAgICAgICByb3dNZXRhZGF0YTogW11cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgLy8gQWRkIHZhbHVlcyB0byBmaWVsZCBzdGF0ZVxuICAgICAgICAgIGlmIChkYXRhW2ZpZWxkLm5hbWVdID09PSBudWxsKSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IGZvcmNlRnVsbFZhbHVlID8gYmxvY2tzVmFsdWUgOiBibG9ja3NWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmluaXRpYWxWYWx1ZSA9IGZvcmNlRnVsbFZhbHVlID8gYmxvY2tzVmFsdWUgOiBibG9ja3NWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYmxvY2tzVmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBmaWVsZFN0YXRlLmRpc2FibGVGb3JtRGF0YSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkU3RhdGUucm93cyA9IHJvd01ldGFkYXRhO1xuICAgICAgICAgIC8vIEFkZCBmaWVsZCB0byBzdGF0ZVxuICAgICAgICAgIGlmICghb21pdFBhcmVudHMgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSkge1xuICAgICAgICAgICAgc3RhdGVbcGF0aF0gPSBmaWVsZFN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmRpc2FibGVGb3JtRGF0YSA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZVtwYXRoXSA9IGZpZWxkU3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGdyb3VwU2VsZWN0ID0gc2VsZWN0Py5bZmllbGQubmFtZV07XG4gICAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50LFxuICAgICAgICAgICAgYW55UGFyZW50TG9jYWxpemVkOiBmaWVsZC5sb2NhbGl6ZWQgfHwgYW55UGFyZW50TG9jYWxpemVkLFxuICAgICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgIGRhdGE6IGRhdGE/LltmaWVsZC5uYW1lXSB8fCB7fSxcbiAgICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBmb3JjZUZ1bGxWYWx1ZSxcbiAgICAgICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICAgICAgaW5jbHVkZVNjaGVtYSxcbiAgICAgICAgICAgIG1vY2tSU0NzLFxuICAgICAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6ICcnLFxuICAgICAgICAgICAgcGFyZW50UGFzc2VzQ29uZGl0aW9uOiBwYXNzZXNDb25kaXRpb24sXG4gICAgICAgICAgICBwYXJlbnRQYXRoOiBwYXRoLFxuICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aDogc2NoZW1hUGF0aCxcbiAgICAgICAgICAgIHBlcm1pc3Npb25zOiB0eXBlb2YgZmllbGRQZXJtaXNzaW9ucyA9PT0gJ2Jvb2xlYW4nID8gZmllbGRQZXJtaXNzaW9ucyA6IGZpZWxkUGVybWlzc2lvbnM/LmZpZWxkcyxcbiAgICAgICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICAgICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgICAgICAgICByZWFkT25seSxcbiAgICAgICAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgICAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICBzZWxlY3Q6IHR5cGVvZiBncm91cFNlbGVjdCA9PT0gJ29iamVjdCcgPyBncm91cFNlbGVjdCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNlbGVjdE1vZGUsXG4gICAgICAgICAgICBza2lwQ29uZGl0aW9uQ2hlY2tzLFxuICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlICdyZWxhdGlvbnNoaXAnOlxuICAgICAgY2FzZSAndXBsb2FkJzpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChmaWVsZC5maWx0ZXJPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQucmVsYXRpb25UbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmaWVsZFN0YXRlLmZpbHRlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBbZmllbGQucmVsYXRpb25Ub106IGZpZWxkLmZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpZWxkU3RhdGUuZmlsdGVyT3B0aW9ucyA9IGZpZWxkLnJlbGF0aW9uVG8ucmVkdWNlKChhY2MsIHJlbGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICBhY2NbcmVsYXRpb25dID0gZmllbGQuZmlsdGVyT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBhd2FpdCByZXNvbHZlRmlsdGVyT3B0aW9ucyhmaWVsZC5maWx0ZXJPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgICAgICAgIGRhdGE6IGZ1bGxEYXRhLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IGZpZWxkLnJlbGF0aW9uVG8sXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHNpYmxpbmdEYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcS51c2VyXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBmaWVsZFN0YXRlLmZpbHRlck9wdGlvbnMgPSBxdWVyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpZWxkLmhhc01hbnkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcFZhbHVlID0gQXJyYXkuaXNBcnJheShkYXRhW2ZpZWxkLm5hbWVdKSA/IGRhdGFbZmllbGQubmFtZV0ubWFwKHJlbGF0aW9uc2hpcCA9PiB7XG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IHJlbGF0aW9uc2hpcC5yZWxhdGlvblRvLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlbGF0aW9uc2hpcC52YWx1ZSAmJiB0eXBlb2YgcmVsYXRpb25zaGlwLnZhbHVlID09PSAnb2JqZWN0JyA/IHJlbGF0aW9uc2hpcC52YWx1ZT8uaWQgOiByZWxhdGlvbnNoaXAudmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVsYXRpb25zaGlwID09PSAnb2JqZWN0JyAmJiByZWxhdGlvbnNoaXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsYXRpb25zaGlwLmlkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZWxhdGlvbnNoaXA7XG4gICAgICAgICAgICB9KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUudmFsdWUgPSByZWxhdGlvbnNoaXBWYWx1ZTtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVtmaWVsZC5uYW1lXSAmJiB0eXBlb2YgZGF0YVtmaWVsZC5uYW1lXSA9PT0gJ29iamVjdCcgJiYgJ3JlbGF0aW9uVG8nIGluIGRhdGFbZmllbGQubmFtZV0gJiYgJ3ZhbHVlJyBpbiBkYXRhW2ZpZWxkLm5hbWVdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGRhdGFbZmllbGQubmFtZV0/LnZhbHVlID09PSAnb2JqZWN0JyAmJiBkYXRhW2ZpZWxkLm5hbWVdPy52YWx1ZSAmJiAnaWQnIGluIGRhdGFbZmllbGQubmFtZV0udmFsdWUgPyBkYXRhW2ZpZWxkLm5hbWVdLnZhbHVlLmlkIDogZGF0YVtmaWVsZC5uYW1lXS52YWx1ZTtcbiAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb25UbzogZGF0YVtmaWVsZC5uYW1lXT8ucmVsYXRpb25UbyxcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcFZhbHVlID0gZGF0YVtmaWVsZC5uYW1lXSAmJiB0eXBlb2YgZGF0YVtmaWVsZC5uYW1lXSA9PT0gJ29iamVjdCcgJiYgJ2lkJyBpbiBkYXRhW2ZpZWxkLm5hbWVdID8gZGF0YVtmaWVsZC5uYW1lXS5pZCA6IGRhdGFbZmllbGQubmFtZV07XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmluaXRpYWxWYWx1ZSA9IHJlbGF0aW9uc2hpcFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpIHtcbiAgICAgICAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuc2VsZWN0RmlsdGVyT3B0aW9ucyA9IGZpZWxkLmZpbHRlck9wdGlvbnMoe1xuICAgICAgICAgICAgICBkYXRhOiBmdWxsRGF0YSxcbiAgICAgICAgICAgICAgb3B0aW9uczogZmllbGQub3B0aW9ucyxcbiAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogZGF0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhW2ZpZWxkLm5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUudmFsdWUgPSBkYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5pbml0aWFsVmFsdWUgPSBkYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpIHtcbiAgICAgICAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoZGF0YVtmaWVsZC5uYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gZGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gZGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQWRkIGZpZWxkIHRvIHN0YXRlXG4gICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSB7XG4gICAgICAgICAgICBzdGF0ZVtwYXRoXSA9IGZpZWxkU3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGZpZWxkSGFzU3ViRmllbGRzKGZpZWxkKSAmJiAhZmllbGRBZmZlY3RzRGF0YShmaWVsZCkpIHtcbiAgICAvLyBIYW5kbGUgZmllbGQgdHlwZXMgdGhhdCBkbyBub3QgdXNlIG5hbWVzIChyb3csIGNvbGxhcHNpYmxlLCB1bm5hbWVkIGdyb3VwIGV0YylcbiAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpIHtcbiAgICAgIHN0YXRlW3BhdGhdID0ge1xuICAgICAgICBkaXNhYmxlRm9ybURhdGE6IHRydWVcbiAgICAgIH07XG4gICAgICBpZiAocGFzc2VzQ29uZGl0aW9uID09PSBmYWxzZSkge1xuICAgICAgICBzdGF0ZVtwYXRoXS5wYXNzZXNDb25kaXRpb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICBpZCxcbiAgICAgIG1vY2tSU0NzLFxuICAgICAgc2VsZWN0LFxuICAgICAgc2VsZWN0TW9kZSxcbiAgICAgIC8vIHBhc3N0aHJvdWdoIHBhcmVudCBmdW5jdGlvbmFsaXR5XG4gICAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gICAgICBhbnlQYXJlbnRMb2NhbGl6ZWQ6IGZpZWxkSXNMb2NhbGl6ZWQoZmllbGQpIHx8IGFueVBhcmVudExvY2FsaXplZCxcbiAgICAgIGJsb2NrRGF0YSxcbiAgICAgIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICBkYXRhLFxuICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICAgIGZpbHRlcixcbiAgICAgIGZvcmNlRnVsbFZhbHVlLFxuICAgICAgZnVsbERhdGEsXG4gICAgICBpbmNsdWRlU2NoZW1hLFxuICAgICAgb21pdFBhcmVudHMsXG4gICAgICBvcGVyYXRpb24sXG4gICAgICBwYXJlbnRJbmRleFBhdGg6IGluZGV4UGF0aCxcbiAgICAgIHBhcmVudFBhc3Nlc0NvbmRpdGlvbjogcGFzc2VzQ29uZGl0aW9uLFxuICAgICAgcGFyZW50UGF0aCxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICBwZXJtaXNzaW9uczogcGFyZW50UGVybWlzc2lvbnMsXG4gICAgICBwcmVmZXJlbmNlcyxcbiAgICAgIHByZXZpb3VzRm9ybVN0YXRlLFxuICAgICAgcmVhZE9ubHksXG4gICAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgcmVxLFxuICAgICAgc2tpcENvbmRpdGlvbkNoZWNrcyxcbiAgICAgIHNraXBWYWxpZGF0aW9uLFxuICAgICAgc3RhdGVcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFicycpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IGZpZWxkLnRhYnMubWFwKCh0YWIsIHRhYkluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc05hbWVkVGFiID0gdGFiSGFzTmFtZSh0YWIpO1xuICAgICAgbGV0IHRhYlNlbGVjdDtcbiAgICAgIGNvbnN0IHRhYkZpZWxkID0ge1xuICAgICAgICAuLi50YWIsXG4gICAgICAgIHR5cGU6ICd0YWInXG4gICAgICB9O1xuICAgICAgY29uc3Qge1xuICAgICAgICBpbmRleFBhdGg6IHRhYkluZGV4UGF0aCxcbiAgICAgICAgcGF0aDogdGFiUGF0aCxcbiAgICAgICAgc2NoZW1hUGF0aDogdGFiU2NoZW1hUGF0aFxuICAgICAgfSA9IGdldEZpZWxkUGF0aHMoe1xuICAgICAgICBmaWVsZDogdGFiRmllbGQsXG4gICAgICAgIGluZGV4OiB0YWJJbmRleCxcbiAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhdGgsXG4gICAgICAgIHBhcmVudFNjaGVtYVBhdGhcbiAgICAgIH0pO1xuICAgICAgbGV0IGNoaWxkUGVybWlzc2lvbnMgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoaXNOYW1lZFRhYikge1xuICAgICAgICBjb25zdCBzaG91bGRDb250aW51ZSA9IHN0cmlwVW5zZWxlY3RlZEZpZWxkcyh7XG4gICAgICAgICAgZmllbGQ6IHRhYkZpZWxkLFxuICAgICAgICAgIHNlbGVjdCxcbiAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgIHNpYmxpbmdEb2M6IGRhdGE/Llt0YWIubmFtZV0gfHwge31cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghc2hvdWxkQ29udGludWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudFBlcm1pc3Npb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgY2hpbGRQZXJtaXNzaW9ucyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGFiUGVybWlzc2lvbnMgPSBwYXJlbnRQZXJtaXNzaW9ucz8uW3RhYi5uYW1lXTtcbiAgICAgICAgICBpZiAodGFiUGVybWlzc2lvbnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNoaWxkUGVybWlzc2lvbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZFBlcm1pc3Npb25zID0gdGFiUGVybWlzc2lvbnM/LmZpZWxkcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3Q/Llt0YWIubmFtZV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGFiU2VsZWN0ID0gc2VsZWN0Py5bdGFiLm5hbWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZFBlcm1pc3Npb25zID0gcGFyZW50UGVybWlzc2lvbnM7XG4gICAgICAgIHRhYlNlbGVjdCA9IHNlbGVjdDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhdGhTZWdtZW50cyA9IHBhdGggPyBwYXRoLnNwbGl0KCcuJykgOiBbXTtcbiAgICAgIC8vIElmIHBhc3Nlc0NvbmRpdGlvbiBpcyBmYWxzZSB0aGVuIHRoaXMgc2hvdWxkIGFsd2F5cyByZXN1bHQgdG8gZmFsc2VcbiAgICAgIC8vIElmIHRoZSB0YWIgaGFzIG5vIGFkbWluLmNvbmRpdGlvbiBwcm92aWRlZCB0aGVuIGZhbGxiYWNrIHRvIHBhc3Nlc0NvbmRpdGlvbiBhbmQgbGV0IHRoYXQgZGVjaWRlIHRoZSByZXN1bHRcbiAgICAgIGxldCB0YWJQYXNzZXNDb25kaXRpb24gPSBwYXNzZXNDb25kaXRpb247XG4gICAgICBpZiAocGFzc2VzQ29uZGl0aW9uICYmIHR5cGVvZiB0YWIuYWRtaW4/LmNvbmRpdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0YWJQYXNzZXNDb25kaXRpb24gPSB0YWIuYWRtaW4uY29uZGl0aW9uKGZ1bGxEYXRhLCBkYXRhLCB7XG4gICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICBwYXRoOiBwYXRoU2VnbWVudHMsXG4gICAgICAgICAgdXNlcjogcmVxLnVzZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGFiPy5pZCkge1xuICAgICAgICBzdGF0ZVt0YWIuaWRdID0ge1xuICAgICAgICAgIHBhc3Nlc0NvbmRpdGlvbjogdGFiUGFzc2VzQ29uZGl0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgIGlkLFxuICAgICAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gICAgICAgIGFueVBhcmVudExvY2FsaXplZDogdGFiLmxvY2FsaXplZCB8fCBhbnlQYXJlbnRMb2NhbGl6ZWQsXG4gICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICBkYXRhOiBpc05hbWVkVGFiID8gZGF0YT8uW3RhYi5uYW1lXSB8fCB7fSA6IGRhdGEsXG4gICAgICAgIGZpZWxkczogdGFiLmZpZWxkcyxcbiAgICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICAgIGZpbHRlcixcbiAgICAgICAgZm9yY2VGdWxsVmFsdWUsXG4gICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICBpbmNsdWRlU2NoZW1hLFxuICAgICAgICBtb2NrUlNDcyxcbiAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpc05hbWVkVGFiID8gJycgOiB0YWJJbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhc3Nlc0NvbmRpdGlvbjogdGFiUGFzc2VzQ29uZGl0aW9uLFxuICAgICAgICBwYXJlbnRQYXRoOiBpc05hbWVkVGFiID8gdGFiUGF0aCA6IHBhcmVudFBhdGgsXG4gICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IGlzTmFtZWRUYWIgPyB0YWJTY2hlbWFQYXRoIDogcGFyZW50U2NoZW1hUGF0aCxcbiAgICAgICAgcGVybWlzc2lvbnM6IGNoaWxkUGVybWlzc2lvbnMsXG4gICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICAgICAgcmVhZE9ubHksXG4gICAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgICAgcmVuZGVyRmllbGRGbixcbiAgICAgICAgcmVxLFxuICAgICAgICBzZWxlY3Q6IHRhYlNlbGVjdCxcbiAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgc2tpcENvbmRpdGlvbkNoZWNrcyxcbiAgICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICAgIHN0YXRlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3VpJykge1xuICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkge1xuICAgICAgc3RhdGVbcGF0aF0gPSBmaWVsZFN0YXRlO1xuICAgICAgc3RhdGVbcGF0aF0uZGlzYWJsZUZvcm1EYXRhID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlckZpZWxkRm4gJiYgIWZpZWxkSXNIaWRkZW5PckRpc2FibGVkKGZpZWxkKSkge1xuICAgIGNvbnN0IGZpZWxkQ29uZmlnID0gZmllbGRTY2hlbWFNYXAuZ2V0KHNjaGVtYVBhdGgpO1xuICAgIGlmICghZmllbGRDb25maWcgJiYgIW1vY2tSU0NzKSB7XG4gICAgICBpZiAoc2NoZW1hUGF0aC5lbmRzV2l0aCgnLmJsb2NrVHlwZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmllbGQgY29uZmlnIG5vdCBmb3VuZCBmb3IgJHtzY2hlbWFQYXRofWApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXN0YXRlW3BhdGhdKSB7XG4gICAgICAvLyBTb21lIGZpZWxkcyAoaWUgYFRhYmApIGRvIG5vdCBsaXZlIGluIGZvcm0gc3RhdGVcbiAgICAgIC8vIHRoZXJlZm9yZSB3ZSBjYW5ub3QgYXR0YWNoIGN1c3RvbUNvbXBvbmVudHMgdG8gdGhlbVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWRkZWRCeVNlcnZlcikge1xuICAgICAgc3RhdGVbcGF0aF0uYWRkZWRCeVNlcnZlciA9IGFkZGVkQnlTZXJ2ZXI7XG4gICAgfVxuICAgIHJlbmRlckZpZWxkRm4oe1xuICAgICAgaWQsXG4gICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgZGF0YTogZnVsbERhdGEsXG4gICAgICBmaWVsZENvbmZpZzogZmllbGRDb25maWcsXG4gICAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICAgIGZpZWxkU3RhdGU6IHN0YXRlW3BhdGhdLFxuICAgICAgZm9ybVN0YXRlOiBzdGF0ZSxcbiAgICAgIGluZGV4UGF0aCxcbiAgICAgIGxhc3RSZW5kZXJlZFBhdGgsXG4gICAgICBtb2NrUlNDcyxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIHBhcmVudFBhdGgsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoLFxuICAgICAgcGF0aCxcbiAgICAgIHBlcm1pc3Npb25zOiBmaWVsZFBlcm1pc3Npb25zLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICBwcmV2aW91c0ZpZWxkU3RhdGU6IHByZXZpb3VzRm9ybVN0YXRlPy5bcGF0aF0sXG4gICAgICByZWFkT25seSxcbiAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgIHJlcSxcbiAgICAgIHNjaGVtYVBhdGgsXG4gICAgICBzaWJsaW5nRGF0YTogZGF0YVxuICAgIH0pO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkRmllbGRTdGF0ZVByb21pc2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js\n",
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js':
    /*!*****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js ***!
  \*****************************************************************************************************************************************************************************************************************************************************/
    /***/ (__webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        '__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDefaultValues: () => (/* binding */ calculateDefaultValues)\n/* harmony export */ });\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iterateFields.js */ "(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_iterateFields_js__WEBPACK_IMPORTED_MODULE_0__]);\n_iterateFields_js__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst calculateDefaultValues = async ({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  select,\n  selectMode,\n  user\n}) => {\n  await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_0__.iterateFields)({\n    id,\n    data,\n    fields,\n    locale,\n    req,\n    select,\n    selectMode,\n    siblingData: data,\n    user\n  });\n  return data;\n};\n//# sourceMappingURL=index.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1EO0FBQzVDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxRQUFRLGdFQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVklUQVxcTmV4dGpzXFxwYXlsb2FkLXBsdWdpbnNcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xcdWlcXGRpc3RcXGZvcm1zXFxmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZVxcY2FsY3VsYXRlRGVmYXVsdFZhbHVlc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXRlcmF0ZUZpZWxkcyB9IGZyb20gJy4vaXRlcmF0ZUZpZWxkcy5qcyc7XG5leHBvcnQgY29uc3QgY2FsY3VsYXRlRGVmYXVsdFZhbHVlcyA9IGFzeW5jICh7XG4gIGlkLFxuICBkYXRhLFxuICBmaWVsZHMsXG4gIGxvY2FsZSxcbiAgcmVxLFxuICBzZWxlY3QsXG4gIHNlbGVjdE1vZGUsXG4gIHVzZXJcbn0pID0+IHtcbiAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgaWQsXG4gICAgZGF0YSxcbiAgICBmaWVsZHMsXG4gICAgbG9jYWxlLFxuICAgIHJlcSxcbiAgICBzZWxlY3QsXG4gICAgc2VsZWN0TW9kZSxcbiAgICBzaWJsaW5nRGF0YTogZGF0YSxcbiAgICB1c2VyXG4gIH0pO1xuICByZXR1cm4gZGF0YTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js\n',
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js':
    /*!*************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js ***!
  \*************************************************************************************************************************************************************************************************************************************************************/
    /***/ (__webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        '__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iterateFields: () => (/* binding */ iterateFields)\n/* harmony export */ });\n/* harmony import */ var _promise_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./promise.js */ "(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_promise_js__WEBPACK_IMPORTED_MODULE_0__]);\n_promise_js__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst iterateFields = async ({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  select,\n  selectMode,\n  siblingData,\n  user\n}) => {\n  const promises = [];\n  fields.forEach(field => {\n    promises.push((0,_promise_js__WEBPACK_IMPORTED_MODULE_0__.defaultValuePromise)({\n      id,\n      data,\n      field,\n      locale,\n      req,\n      select,\n      selectMode,\n      siblingData,\n      user\n    }));\n  });\n  await Promise.all(promises);\n};\n//# sourceMappingURL=iterateFields.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL2l0ZXJhdGVGaWVsZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFDNUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGtCQUFrQixnRUFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EseUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVklUQVxcTmV4dGpzXFxwYXlsb2FkLXBsdWdpbnNcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xcdWlcXGRpc3RcXGZvcm1zXFxmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZVxcY2FsY3VsYXRlRGVmYXVsdFZhbHVlc1xcaXRlcmF0ZUZpZWxkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0VmFsdWVQcm9taXNlIH0gZnJvbSAnLi9wcm9taXNlLmpzJztcbmV4cG9ydCBjb25zdCBpdGVyYXRlRmllbGRzID0gYXN5bmMgKHtcbiAgaWQsXG4gIGRhdGEsXG4gIGZpZWxkcyxcbiAgbG9jYWxlLFxuICByZXEsXG4gIHNlbGVjdCxcbiAgc2VsZWN0TW9kZSxcbiAgc2libGluZ0RhdGEsXG4gIHVzZXJcbn0pID0+IHtcbiAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgIHByb21pc2VzLnB1c2goZGVmYXVsdFZhbHVlUHJvbWlzZSh7XG4gICAgICBpZCxcbiAgICAgIGRhdGEsXG4gICAgICBmaWVsZCxcbiAgICAgIGxvY2FsZSxcbiAgICAgIHJlcSxcbiAgICAgIHNlbGVjdCxcbiAgICAgIHNlbGVjdE1vZGUsXG4gICAgICBzaWJsaW5nRGF0YSxcbiAgICAgIHVzZXJcbiAgICB9KSk7XG4gIH0pO1xuICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0ZUZpZWxkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\n',
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js':
    /*!*******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js ***!
  \*******************************************************************************************************************************************************************************************************************************************************/
    /***/ (__webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        "__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultValuePromise: () => (/* binding */ defaultValuePromise)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload */ \"payload\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"payload/shared\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([payload__WEBPACK_IMPORTED_MODULE_0__, payload_shared__WEBPACK_IMPORTED_MODULE_1__, _iterateFields_js__WEBPACK_IMPORTED_MODULE_2__]);\n([payload__WEBPACK_IMPORTED_MODULE_0__, payload_shared__WEBPACK_IMPORTED_MODULE_1__, _iterateFields_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// TODO: Make this works for rich text subfields\nconst defaultValuePromise = async ({\n  id,\n  data,\n  field,\n  locale,\n  req,\n  select,\n  selectMode,\n  siblingData,\n  user\n}) => {\n  const shouldContinue = (0,payload__WEBPACK_IMPORTED_MODULE_0__.stripUnselectedFields)({\n    field,\n    select,\n    selectMode,\n    siblingDoc: siblingData\n  });\n  if (!shouldContinue) {\n    return;\n  }\n  if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n    if (typeof siblingData[field.name] === 'undefined' && typeof field.defaultValue !== 'undefined') {\n      try {\n        siblingData[field.name] = await (0,payload__WEBPACK_IMPORTED_MODULE_0__.getDefaultValue)({\n          defaultValue: field.defaultValue,\n          locale,\n          req,\n          user,\n          value: siblingData[field.name]\n        });\n      } catch (err) {\n        req.payload.logger.error({\n          err,\n          msg: `Error calculating default value for field: ${field.name}`\n        });\n      }\n    }\n  }\n  // Traverse subfields\n  switch (field.type) {\n    case 'array':\n      {\n        const rows = siblingData[field.name];\n        if (Array.isArray(rows)) {\n          const promises = [];\n          const arraySelect = select?.[field.name];\n          rows.forEach(row => {\n            promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n              id,\n              data,\n              fields: field.fields,\n              locale,\n              req,\n              select: typeof arraySelect === 'object' ? arraySelect : undefined,\n              selectMode,\n              siblingData: row,\n              user\n            }));\n          });\n          await Promise.all(promises);\n        }\n        break;\n      }\n    case 'blocks':\n      {\n        const rows = siblingData[field.name];\n        if (Array.isArray(rows)) {\n          const promises = [];\n          rows.forEach(row => {\n            const blockTypeToMatch = row.blockType;\n            const block = req.payload.blocks[blockTypeToMatch] ?? (field.blockReferences ?? field.blocks).find(blockType => typeof blockType !== 'string' && blockType.slug === blockTypeToMatch);\n            const {\n              blockSelect,\n              blockSelectMode\n            } = (0,payload__WEBPACK_IMPORTED_MODULE_0__.getBlockSelect)({\n              block,\n              select: select?.[field.name],\n              selectMode\n            });\n            if (block) {\n              row.blockType = blockTypeToMatch;\n              promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n                id,\n                data,\n                fields: block.fields,\n                locale,\n                req,\n                select: typeof blockSelect === 'object' ? blockSelect : undefined,\n                selectMode: blockSelectMode,\n                siblingData: row,\n                user\n              }));\n            }\n          });\n          await Promise.all(promises);\n        }\n        break;\n      }\n    case 'collapsible':\n    case 'row':\n      {\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n          id,\n          data,\n          fields: field.fields,\n          locale,\n          req,\n          select,\n          selectMode,\n          siblingData,\n          user\n        });\n        break;\n      }\n    case 'group':\n      {\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n          if (typeof siblingData[field.name] !== 'object') {\n            siblingData[field.name] = {};\n          }\n          const groupData = siblingData[field.name];\n          const groupSelect = select?.[field.name];\n          await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n            id,\n            data,\n            fields: field.fields,\n            locale,\n            req,\n            select: typeof groupSelect === 'object' ? groupSelect : undefined,\n            selectMode,\n            siblingData: groupData,\n            user\n          });\n        } else {\n          await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n            id,\n            data,\n            fields: field.fields,\n            locale,\n            req,\n            select,\n            selectMode,\n            siblingData,\n            user\n          });\n        }\n        break;\n      }\n    case 'tab':\n      {\n        let tabSiblingData;\n        const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(field);\n        let tabSelect;\n        if (isNamedTab) {\n          if (typeof siblingData[field.name] !== 'object') {\n            siblingData[field.name] = {};\n          }\n          tabSiblingData = siblingData[field.name];\n          if (typeof select?.[field.name] === 'object') {\n            tabSelect = select?.[field.name];\n          }\n        } else {\n          tabSiblingData = siblingData;\n          tabSelect = select;\n        }\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n          id,\n          data,\n          fields: field.fields,\n          locale,\n          req,\n          select: tabSelect,\n          selectMode,\n          siblingData: tabSiblingData,\n          user\n        });\n        break;\n      }\n    case 'tabs':\n      {\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n          id,\n          data,\n          fields: field.tabs.map(tab => ({\n            ...tab,\n            type: 'tab'\n          })),\n          locale,\n          req,\n          select,\n          selectMode,\n          siblingData,\n          user\n        });\n        break;\n      }\n    default:\n      {\n        break;\n      }\n  }\n};\n//# sourceMappingURL=promise.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL3Byb21pc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpRjtBQUNuQjtBQUNYO0FBQ25EO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QseUJBQXlCLDhEQUFxQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdFQUFnQjtBQUN0QjtBQUNBO0FBQ0Esd0NBQXdDLHdEQUFlO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQSw2REFBNkQsV0FBVztBQUN4RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxFQUFFLHVEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0VBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWLGdCQUFnQixnRUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdFQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0VBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFZJVEFcXE5leHRqc1xccGF5bG9hZC1wbHVnaW5zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU5LjFfQHR5cGVzK3JlYWN0QDE5LjEuOF9tb25hY28tZWRpdG9yQDAuNTQuMF9uZXh0QDE1LjQuNF9AYmFiZWwrY29yZUA3LjI4LjRfZjNleTNpaGtqenJqajVjcDZuc21hanlod3FcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFxmb3Jtc1xcZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGVcXGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXNcXHByb21pc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QmxvY2tTZWxlY3QsIGdldERlZmF1bHRWYWx1ZSwgc3RyaXBVbnNlbGVjdGVkRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgaXRlcmF0ZUZpZWxkcyB9IGZyb20gJy4vaXRlcmF0ZUZpZWxkcy5qcyc7XG4vLyBUT0RPOiBNYWtlIHRoaXMgd29ya3MgZm9yIHJpY2ggdGV4dCBzdWJmaWVsZHNcbmV4cG9ydCBjb25zdCBkZWZhdWx0VmFsdWVQcm9taXNlID0gYXN5bmMgKHtcbiAgaWQsXG4gIGRhdGEsXG4gIGZpZWxkLFxuICBsb2NhbGUsXG4gIHJlcSxcbiAgc2VsZWN0LFxuICBzZWxlY3RNb2RlLFxuICBzaWJsaW5nRGF0YSxcbiAgdXNlclxufSkgPT4ge1xuICBjb25zdCBzaG91bGRDb250aW51ZSA9IHN0cmlwVW5zZWxlY3RlZEZpZWxkcyh7XG4gICAgZmllbGQsXG4gICAgc2VsZWN0LFxuICAgIHNlbGVjdE1vZGUsXG4gICAgc2libGluZ0RvYzogc2libGluZ0RhdGFcbiAgfSk7XG4gIGlmICghc2hvdWxkQ29udGludWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgaWYgKHR5cGVvZiBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGZpZWxkLmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdID0gYXdhaXQgZ2V0RGVmYXVsdFZhbHVlKHtcbiAgICAgICAgICBkZWZhdWx0VmFsdWU6IGZpZWxkLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgcmVxLFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgdmFsdWU6IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIG1zZzogYEVycm9yIGNhbGN1bGF0aW5nIGRlZmF1bHQgdmFsdWUgZm9yIGZpZWxkOiAke2ZpZWxkLm5hbWV9YFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gVHJhdmVyc2Ugc3ViZmllbGRzXG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHtcbiAgICAgICAgY29uc3Qgcm93cyA9IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3dzKSkge1xuICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgY29uc3QgYXJyYXlTZWxlY3QgPSBzZWxlY3Q/LltmaWVsZC5uYW1lXTtcbiAgICAgICAgICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgIHNlbGVjdDogdHlwZW9mIGFycmF5U2VsZWN0ID09PSAnb2JqZWN0JyA/IGFycmF5U2VsZWN0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogcm93LFxuICAgICAgICAgICAgICB1c2VyXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ2Jsb2Nrcyc6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocm93cykpIHtcbiAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgIHJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tUeXBlVG9NYXRjaCA9IHJvdy5ibG9ja1R5cGU7XG4gICAgICAgICAgICBjb25zdCBibG9jayA9IHJlcS5wYXlsb2FkLmJsb2Nrc1tibG9ja1R5cGVUb01hdGNoXSA/PyAoZmllbGQuYmxvY2tSZWZlcmVuY2VzID8/IGZpZWxkLmJsb2NrcykuZmluZChibG9ja1R5cGUgPT4gdHlwZW9mIGJsb2NrVHlwZSAhPT0gJ3N0cmluZycgJiYgYmxvY2tUeXBlLnNsdWcgPT09IGJsb2NrVHlwZVRvTWF0Y2gpO1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBibG9ja1NlbGVjdCxcbiAgICAgICAgICAgICAgYmxvY2tTZWxlY3RNb2RlXG4gICAgICAgICAgICB9ID0gZ2V0QmxvY2tTZWxlY3Qoe1xuICAgICAgICAgICAgICBibG9jayxcbiAgICAgICAgICAgICAgc2VsZWN0OiBzZWxlY3Q/LltmaWVsZC5uYW1lXSxcbiAgICAgICAgICAgICAgc2VsZWN0TW9kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcm93LmJsb2NrVHlwZSA9IGJsb2NrVHlwZVRvTWF0Y2g7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2goaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGJsb2NrLmZpZWxkcyxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogdHlwZW9mIGJsb2NrU2VsZWN0ID09PSAnb2JqZWN0JyA/IGJsb2NrU2VsZWN0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlbGVjdE1vZGU6IGJsb2NrU2VsZWN0TW9kZSxcbiAgICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogcm93LFxuICAgICAgICAgICAgICAgIHVzZXJcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlICdjb2xsYXBzaWJsZSc6XG4gICAgY2FzZSAncm93JzpcbiAgICAgIHtcbiAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgcmVxLFxuICAgICAgICAgIHNlbGVjdCxcbiAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgIHNpYmxpbmdEYXRhLFxuICAgICAgICAgIHVzZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIHtcbiAgICAgICAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGdyb3VwRGF0YSA9IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgIGNvbnN0IGdyb3VwU2VsZWN0ID0gc2VsZWN0Py5bZmllbGQubmFtZV07XG4gICAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHNlbGVjdDogdHlwZW9mIGdyb3VwU2VsZWN0ID09PSAnb2JqZWN0JyA/IGdyb3VwU2VsZWN0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgICAgIHNpYmxpbmdEYXRhOiBncm91cERhdGEsXG4gICAgICAgICAgICB1c2VyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHNlbGVjdCxcbiAgICAgICAgICAgIHNlbGVjdE1vZGUsXG4gICAgICAgICAgICBzaWJsaW5nRGF0YSxcbiAgICAgICAgICAgIHVzZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlICd0YWInOlxuICAgICAge1xuICAgICAgICBsZXQgdGFiU2libGluZ0RhdGE7XG4gICAgICAgIGNvbnN0IGlzTmFtZWRUYWIgPSB0YWJIYXNOYW1lKGZpZWxkKTtcbiAgICAgICAgbGV0IHRhYlNlbGVjdDtcbiAgICAgICAgaWYgKGlzTmFtZWRUYWIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgc2libGluZ0RhdGFbZmllbGQubmFtZV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFiU2libGluZ0RhdGEgPSBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdD8uW2ZpZWxkLm5hbWVdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGFiU2VsZWN0ID0gc2VsZWN0Py5bZmllbGQubmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYlNpYmxpbmdEYXRhID0gc2libGluZ0RhdGE7XG4gICAgICAgICAgdGFiU2VsZWN0ID0gc2VsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIHJlcSxcbiAgICAgICAgICBzZWxlY3Q6IHRhYlNlbGVjdCxcbiAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgIHNpYmxpbmdEYXRhOiB0YWJTaWJsaW5nRGF0YSxcbiAgICAgICAgICB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlICd0YWJzJzpcbiAgICAgIHtcbiAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLnRhYnMubWFwKHRhYiA9PiAoe1xuICAgICAgICAgICAgLi4udGFiLFxuICAgICAgICAgICAgdHlwZTogJ3RhYidcbiAgICAgICAgICB9KSksXG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIHJlcSxcbiAgICAgICAgICBzZWxlY3QsXG4gICAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgICBzaWJsaW5nRGF0YSxcbiAgICAgICAgICB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js\n",
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js':
    /*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js ***!
  \******************************************************************************************************************************************************************************************************************************/
    /***/ (__webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        "__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fieldSchemasToFormState: () => (/* binding */ fieldSchemasToFormState),\n/* harmony export */   iterateFields: () => (/* reexport safe */ _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__.iterateFields)\n/* harmony export */ });\n/* harmony import */ var _calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calculateDefaultValues/index.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__, _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__, _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nconst fieldSchemasToFormState = async ({\n  id,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data = {},\n  documentData,\n  fields,\n  fieldSchemaMap,\n  initialBlockData,\n  mockRSCs,\n  operation,\n  permissions,\n  preferences,\n  previousFormState,\n  readOnly,\n  renderAllFields,\n  renderFieldFn,\n  req,\n  schemaPath,\n  select,\n  selectMode,\n  skipValidation\n}) => {\n  if (!clientFieldSchemaMap && renderFieldFn) {\n    // eslint-disable-next-line no-console\n    console.warn('clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance');\n  }\n  if (fields && fields.length) {\n    const state = {};\n    const dataWithDefaultValues = {\n      ...data\n    };\n    await (0,_calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__.calculateDefaultValues)({\n      id,\n      data: dataWithDefaultValues,\n      fields,\n      locale: req.locale,\n      req,\n      select,\n      selectMode,\n      siblingData: dataWithDefaultValues,\n      user: req.user\n    });\n    let fullData = dataWithDefaultValues;\n    if (documentData) {\n      // By the time this function is used to get form state for nested forms, their default values should have already been calculated\n      // => no need to run calculateDefaultValues here\n      fullData = documentData;\n    }\n    await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_1__.iterateFields)({\n      id,\n      addErrorPathToParent: null,\n      blockData: initialBlockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: dataWithDefaultValues,\n      fields,\n      fieldSchemaMap,\n      fullData,\n      mockRSCs,\n      operation,\n      parentIndexPath: '',\n      parentPassesCondition: true,\n      parentPath: '',\n      parentSchemaPath: schemaPath,\n      permissions,\n      preferences,\n      previousFormState,\n      readOnly,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      select,\n      selectMode,\n      skipValidation,\n      state\n    });\n    return state;\n  }\n  return {};\n};\n\n//# sourceMappingURL=index.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJFO0FBQ3hCO0FBQzVDO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3RkFBc0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0VBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUN5QjtBQUN6QixpQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxWSVRBXFxOZXh0anNcXHBheWxvYWQtcGx1Z2luc1xcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrdWlAMy41OS4xX0B0eXBlcytyZWFjdEAxOS4xLjhfbW9uYWNvLWVkaXRvckAwLjU0LjBfbmV4dEAxNS40LjRfQGJhYmVsK2NvcmVANy4yOC40X2YzZXkzaWhranpyamo1Y3A2bnNtYWp5aHdxXFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFx1aVxcZGlzdFxcZm9ybXNcXGZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVEZWZhdWx0VmFsdWVzIH0gZnJvbSAnLi9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL2luZGV4LmpzJztcbmltcG9ydCB7IGl0ZXJhdGVGaWVsZHMgfSBmcm9tICcuL2l0ZXJhdGVGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlID0gYXN5bmMgKHtcbiAgaWQsXG4gIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICBjb2xsZWN0aW9uU2x1ZyxcbiAgZGF0YSA9IHt9LFxuICBkb2N1bWVudERhdGEsXG4gIGZpZWxkcyxcbiAgZmllbGRTY2hlbWFNYXAsXG4gIGluaXRpYWxCbG9ja0RhdGEsXG4gIG1vY2tSU0NzLFxuICBvcGVyYXRpb24sXG4gIHBlcm1pc3Npb25zLFxuICBwcmVmZXJlbmNlcyxcbiAgcHJldmlvdXNGb3JtU3RhdGUsXG4gIHJlYWRPbmx5LFxuICByZW5kZXJBbGxGaWVsZHMsXG4gIHJlbmRlckZpZWxkRm4sXG4gIHJlcSxcbiAgc2NoZW1hUGF0aCxcbiAgc2VsZWN0LFxuICBzZWxlY3RNb2RlLFxuICBza2lwVmFsaWRhdGlvblxufSkgPT4ge1xuICBpZiAoIWNsaWVudEZpZWxkU2NoZW1hTWFwICYmIHJlbmRlckZpZWxkRm4pIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybignY2xpZW50RmllbGRTY2hlbWFNYXAgaXMgbm90IHBhc3NlZCB0byBmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZSAtIHRoaXMgd2lsbCByZWR1Y2UgcGVyZm9ybWFuY2UnKTtcbiAgfVxuICBpZiAoZmllbGRzICYmIGZpZWxkcy5sZW5ndGgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHt9O1xuICAgIGNvbnN0IGRhdGFXaXRoRGVmYXVsdFZhbHVlcyA9IHtcbiAgICAgIC4uLmRhdGFcbiAgICB9O1xuICAgIGF3YWl0IGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXMoe1xuICAgICAgaWQsXG4gICAgICBkYXRhOiBkYXRhV2l0aERlZmF1bHRWYWx1ZXMsXG4gICAgICBmaWVsZHMsXG4gICAgICBsb2NhbGU6IHJlcS5sb2NhbGUsXG4gICAgICByZXEsXG4gICAgICBzZWxlY3QsXG4gICAgICBzZWxlY3RNb2RlLFxuICAgICAgc2libGluZ0RhdGE6IGRhdGFXaXRoRGVmYXVsdFZhbHVlcyxcbiAgICAgIHVzZXI6IHJlcS51c2VyXG4gICAgfSk7XG4gICAgbGV0IGZ1bGxEYXRhID0gZGF0YVdpdGhEZWZhdWx0VmFsdWVzO1xuICAgIGlmIChkb2N1bWVudERhdGEpIHtcbiAgICAgIC8vIEJ5IHRoZSB0aW1lIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBnZXQgZm9ybSBzdGF0ZSBmb3IgbmVzdGVkIGZvcm1zLCB0aGVpciBkZWZhdWx0IHZhbHVlcyBzaG91bGQgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsY3VsYXRlZFxuICAgICAgLy8gPT4gbm8gbmVlZCB0byBydW4gY2FsY3VsYXRlRGVmYXVsdFZhbHVlcyBoZXJlXG4gICAgICBmdWxsRGF0YSA9IGRvY3VtZW50RGF0YTtcbiAgICB9XG4gICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICBpZCxcbiAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50OiBudWxsLFxuICAgICAgYmxvY2tEYXRhOiBpbml0aWFsQmxvY2tEYXRhLFxuICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgIGRhdGE6IGRhdGFXaXRoRGVmYXVsdFZhbHVlcyxcbiAgICAgIGZpZWxkcyxcbiAgICAgIGZpZWxkU2NoZW1hTWFwLFxuICAgICAgZnVsbERhdGEsXG4gICAgICBtb2NrUlNDcyxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICBwYXJlbnRQYXNzZXNDb25kaXRpb246IHRydWUsXG4gICAgICBwYXJlbnRQYXRoOiAnJyxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGg6IHNjaGVtYVBhdGgsXG4gICAgICBwZXJtaXNzaW9ucyxcbiAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgICByZWFkT25seSxcbiAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICByZXEsXG4gICAgICBzZWxlY3QsXG4gICAgICBzZWxlY3RNb2RlLFxuICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICBzdGF0ZVxuICAgIH0pO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuICByZXR1cm4ge307XG59O1xuZXhwb3J0IHsgaXRlcmF0ZUZpZWxkcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js\n",
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js':
    /*!***************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js ***!
  \***************************************************************************************************************************************************************************************************************************************/
    /***/ (__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        "__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRowCollapsed: () => (/* binding */ isRowCollapsed)\n/* harmony export */ });\nfunction isRowCollapsed({\n  collapsedPrefs,\n  field,\n  previousRow,\n  row\n}) {\n  if (previousRow && 'collapsed' in previousRow) {\n    return previousRow.collapsed ?? false;\n  }\n  // If previousFormState is `undefined`, check preferences\n  if (collapsedPrefs !== undefined) {\n    return collapsedPrefs.includes(row.id) // Check if collapsed in preferences\n    ;\n  }\n  // If neither exists, fallback to `field.admin.initCollapsed`\n  return field.admin.initCollapsed;\n}\n//# sourceMappingURL=isRowCollapsed.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9pc1Jvd0NvbGxhcHNlZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVklUQVxcTmV4dGpzXFxwYXlsb2FkLXBsdWdpbnNcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xcdWlcXGRpc3RcXGZvcm1zXFxmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZVxcaXNSb3dDb2xsYXBzZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzUm93Q29sbGFwc2VkKHtcbiAgY29sbGFwc2VkUHJlZnMsXG4gIGZpZWxkLFxuICBwcmV2aW91c1JvdyxcbiAgcm93XG59KSB7XG4gIGlmIChwcmV2aW91c1JvdyAmJiAnY29sbGFwc2VkJyBpbiBwcmV2aW91c1Jvdykge1xuICAgIHJldHVybiBwcmV2aW91c1Jvdy5jb2xsYXBzZWQgPz8gZmFsc2U7XG4gIH1cbiAgLy8gSWYgcHJldmlvdXNGb3JtU3RhdGUgaXMgYHVuZGVmaW5lZGAsIGNoZWNrIHByZWZlcmVuY2VzXG4gIGlmIChjb2xsYXBzZWRQcmVmcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNvbGxhcHNlZFByZWZzLmluY2x1ZGVzKHJvdy5pZCkgLy8gQ2hlY2sgaWYgY29sbGFwc2VkIGluIHByZWZlcmVuY2VzXG4gICAgO1xuICB9XG4gIC8vIElmIG5laXRoZXIgZXhpc3RzLCBmYWxsYmFjayB0byBgZmllbGQuYWRtaW4uaW5pdENvbGxhcHNlZGBcbiAgcmV0dXJuIGZpZWxkLmFkbWluLmluaXRDb2xsYXBzZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Jvd0NvbGxhcHNlZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js\n",
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js':
    /*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
    /***/ (__webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        "__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iterateFields: () => (/* binding */ iterateFields)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload */ \"payload\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"payload/shared\");\n/* harmony import */ var _addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./addFieldStatePromise.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([payload__WEBPACK_IMPORTED_MODULE_0__, payload_shared__WEBPACK_IMPORTED_MODULE_1__, _addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_2__]);\n([payload__WEBPACK_IMPORTED_MODULE_0__, payload_shared__WEBPACK_IMPORTED_MODULE_1__, _addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n/**\n * Flattens the fields schema and fields data\n */\nconst iterateFields = async ({\n  id,\n  addErrorPathToParent: addErrorPathToParentArg,\n  anyParentLocalized = false,\n  blockData,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data,\n  fields,\n  fieldSchemaMap,\n  filter,\n  forceFullValue = false,\n  fullData,\n  includeSchema = false,\n  mockRSCs,\n  omitParents = false,\n  operation,\n  parentIndexPath,\n  parentPassesCondition = true,\n  parentPath,\n  parentSchemaPath,\n  permissions,\n  preferences,\n  previousFormState,\n  readOnly,\n  renderAllFields,\n  renderFieldFn: renderFieldFn,\n  req,\n  select,\n  selectMode,\n  skipConditionChecks = false,\n  skipValidation = false,\n  state = {}\n}) => {\n  const promises = [];\n  fields.forEach((field, fieldIndex) => {\n    let passesCondition = true;\n    const {\n      indexPath,\n      path,\n      schemaPath\n    } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.getFieldPaths)({\n      field,\n      index: fieldIndex,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath,\n      parentSchemaPath\n    });\n    if (path !== 'id') {\n      const shouldContinue = (0,payload__WEBPACK_IMPORTED_MODULE_0__.stripUnselectedFields)({\n        field,\n        select,\n        selectMode,\n        siblingDoc: data\n      });\n      if (!shouldContinue) {\n        return;\n      }\n    }\n    const pathSegments = path ? path.split('.') : [];\n    if (!skipConditionChecks) {\n      try {\n        passesCondition = Boolean((field?.admin?.condition ? Boolean(field.admin.condition(fullData || {}, data || {}, {\n          blockData,\n          operation,\n          path: pathSegments,\n          user: req.user\n        })) : true) && parentPassesCondition);\n      } catch (err) {\n        passesCondition = false;\n        req.payload.logger.error({\n          err,\n          msg: `Error evaluating field condition at path: ${path}`\n        });\n      }\n    }\n    promises.push((0,_addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_2__.addFieldStatePromise)({\n      id,\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized,\n      blockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data,\n      field,\n      fieldIndex,\n      fieldSchemaMap,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      indexPath,\n      mockRSCs,\n      omitParents,\n      operation,\n      parentIndexPath,\n      parentPath,\n      parentPermissions: permissions,\n      parentSchemaPath,\n      passesCondition,\n      path,\n      preferences,\n      previousFormState,\n      readOnly,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      schemaPath,\n      select,\n      selectMode,\n      skipConditionChecks,\n      skipValidation,\n      state\n    }));\n  });\n  await Promise.all(promises);\n};\n//# sourceMappingURL=iterateFields.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9pdGVyYXRlRmllbGRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDRDtBQUNrQjtBQUNqRTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUUsNkRBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2Qiw4REFBcUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsWUFBWTtBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsNERBQTRELEtBQUs7QUFDakUsU0FBUztBQUNUO0FBQ0E7QUFDQSxrQkFBa0IsOEVBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLHlDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFZJVEFcXE5leHRqc1xccGF5bG9hZC1wbHVnaW5zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU5LjFfQHR5cGVzK3JlYWN0QDE5LjEuOF9tb25hY28tZWRpdG9yQDAuNTQuMF9uZXh0QDE1LjQuNF9AYmFiZWwrY29yZUA3LjI4LjRfZjNleTNpaGtqenJqajVjcDZuc21hanlod3FcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFxmb3Jtc1xcZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGVcXGl0ZXJhdGVGaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaXBVbnNlbGVjdGVkRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBnZXRGaWVsZFBhdGhzIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgYWRkRmllbGRTdGF0ZVByb21pc2UgfSBmcm9tICcuL2FkZEZpZWxkU3RhdGVQcm9taXNlLmpzJztcbi8qKlxuICogRmxhdHRlbnMgdGhlIGZpZWxkcyBzY2hlbWEgYW5kIGZpZWxkcyBkYXRhXG4gKi9cbmV4cG9ydCBjb25zdCBpdGVyYXRlRmllbGRzID0gYXN5bmMgKHtcbiAgaWQsXG4gIGFkZEVycm9yUGF0aFRvUGFyZW50OiBhZGRFcnJvclBhdGhUb1BhcmVudEFyZyxcbiAgYW55UGFyZW50TG9jYWxpemVkID0gZmFsc2UsXG4gIGJsb2NrRGF0YSxcbiAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gIGNvbGxlY3Rpb25TbHVnLFxuICBkYXRhLFxuICBmaWVsZHMsXG4gIGZpZWxkU2NoZW1hTWFwLFxuICBmaWx0ZXIsXG4gIGZvcmNlRnVsbFZhbHVlID0gZmFsc2UsXG4gIGZ1bGxEYXRhLFxuICBpbmNsdWRlU2NoZW1hID0gZmFsc2UsXG4gIG1vY2tSU0NzLFxuICBvbWl0UGFyZW50cyA9IGZhbHNlLFxuICBvcGVyYXRpb24sXG4gIHBhcmVudEluZGV4UGF0aCxcbiAgcGFyZW50UGFzc2VzQ29uZGl0aW9uID0gdHJ1ZSxcbiAgcGFyZW50UGF0aCxcbiAgcGFyZW50U2NoZW1hUGF0aCxcbiAgcGVybWlzc2lvbnMsXG4gIHByZWZlcmVuY2VzLFxuICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgcmVhZE9ubHksXG4gIHJlbmRlckFsbEZpZWxkcyxcbiAgcmVuZGVyRmllbGRGbjogcmVuZGVyRmllbGRGbixcbiAgcmVxLFxuICBzZWxlY3QsXG4gIHNlbGVjdE1vZGUsXG4gIHNraXBDb25kaXRpb25DaGVja3MgPSBmYWxzZSxcbiAgc2tpcFZhbGlkYXRpb24gPSBmYWxzZSxcbiAgc3RhdGUgPSB7fVxufSkgPT4ge1xuICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICBmaWVsZHMuZm9yRWFjaCgoZmllbGQsIGZpZWxkSW5kZXgpID0+IHtcbiAgICBsZXQgcGFzc2VzQ29uZGl0aW9uID0gdHJ1ZTtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleFBhdGgsXG4gICAgICBwYXRoLFxuICAgICAgc2NoZW1hUGF0aFxuICAgIH0gPSBnZXRGaWVsZFBhdGhzKHtcbiAgICAgIGZpZWxkLFxuICAgICAgaW5kZXg6IGZpZWxkSW5kZXgsXG4gICAgICBwYXJlbnRJbmRleFBhdGg6ICduYW1lJyBpbiBmaWVsZCA/ICcnIDogcGFyZW50SW5kZXhQYXRoLFxuICAgICAgcGFyZW50UGF0aCxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGhcbiAgICB9KTtcbiAgICBpZiAocGF0aCAhPT0gJ2lkJykge1xuICAgICAgY29uc3Qgc2hvdWxkQ29udGludWUgPSBzdHJpcFVuc2VsZWN0ZWRGaWVsZHMoe1xuICAgICAgICBmaWVsZCxcbiAgICAgICAgc2VsZWN0LFxuICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICBzaWJsaW5nRG9jOiBkYXRhXG4gICAgICB9KTtcbiAgICAgIGlmICghc2hvdWxkQ29udGludWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBwYXRoID8gcGF0aC5zcGxpdCgnLicpIDogW107XG4gICAgaWYgKCFza2lwQ29uZGl0aW9uQ2hlY2tzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwYXNzZXNDb25kaXRpb24gPSBCb29sZWFuKChmaWVsZD8uYWRtaW4/LmNvbmRpdGlvbiA/IEJvb2xlYW4oZmllbGQuYWRtaW4uY29uZGl0aW9uKGZ1bGxEYXRhIHx8IHt9LCBkYXRhIHx8IHt9LCB7XG4gICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICBwYXRoOiBwYXRoU2VnbWVudHMsXG4gICAgICAgICAgdXNlcjogcmVxLnVzZXJcbiAgICAgICAgfSkpIDogdHJ1ZSkgJiYgcGFyZW50UGFzc2VzQ29uZGl0aW9uKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBwYXNzZXNDb25kaXRpb24gPSBmYWxzZTtcbiAgICAgICAgcmVxLnBheWxvYWQubG9nZ2VyLmVycm9yKHtcbiAgICAgICAgICBlcnIsXG4gICAgICAgICAgbXNnOiBgRXJyb3IgZXZhbHVhdGluZyBmaWVsZCBjb25kaXRpb24gYXQgcGF0aDogJHtwYXRofWBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHByb21pc2VzLnB1c2goYWRkRmllbGRTdGF0ZVByb21pc2Uoe1xuICAgICAgaWQsXG4gICAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gICAgICBhbnlQYXJlbnRMb2NhbGl6ZWQsXG4gICAgICBibG9ja0RhdGEsXG4gICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgZGF0YSxcbiAgICAgIGZpZWxkLFxuICAgICAgZmllbGRJbmRleCxcbiAgICAgIGZpZWxkU2NoZW1hTWFwLFxuICAgICAgZmlsdGVyLFxuICAgICAgZm9yY2VGdWxsVmFsdWUsXG4gICAgICBmdWxsRGF0YSxcbiAgICAgIGluY2x1ZGVTY2hlbWEsXG4gICAgICBpbmRleFBhdGgsXG4gICAgICBtb2NrUlNDcyxcbiAgICAgIG9taXRQYXJlbnRzLFxuICAgICAgb3BlcmF0aW9uLFxuICAgICAgcGFyZW50SW5kZXhQYXRoLFxuICAgICAgcGFyZW50UGF0aCxcbiAgICAgIHBhcmVudFBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICBwYXNzZXNDb25kaXRpb24sXG4gICAgICBwYXRoLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICAgIHJlYWRPbmx5LFxuICAgICAgcmVuZGVyQWxsRmllbGRzLFxuICAgICAgcmVuZGVyRmllbGRGbixcbiAgICAgIHJlcSxcbiAgICAgIHNjaGVtYVBhdGgsXG4gICAgICBzZWxlY3QsXG4gICAgICBzZWxlY3RNb2RlLFxuICAgICAgc2tpcENvbmRpdGlvbkNoZWNrcyxcbiAgICAgIHNraXBWYWxpZGF0aW9uLFxuICAgICAgc3RhdGVcbiAgICB9KSk7XG4gIH0pO1xuICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0ZUZpZWxkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\n",
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js':
    /*!***************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js ***!
  \***************************************************************************************************************************************************************************************************************************************/
    /***/ (__webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        "__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   traverseFields: () => (/* binding */ traverseFields)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload */ \"payload\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"payload/shared\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([payload__WEBPACK_IMPORTED_MODULE_0__, payload_shared__WEBPACK_IMPORTED_MODULE_1__]);\n([payload__WEBPACK_IMPORTED_MODULE_0__, payload_shared__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nconst traverseFields = ({\n  config,\n  fields,\n  i18n,\n  parentIndexPath,\n  parentSchemaPath,\n  schemaMap\n}) => {\n  for (const [index, field] of fields.entries()) {\n    const {\n      indexPath,\n      schemaPath\n    } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.getFieldPaths)({\n      field,\n      index,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath: '',\n      parentSchemaPath\n    });\n    schemaMap.set(schemaPath, field);\n    switch (field.type) {\n      case 'array':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: '',\n          parentSchemaPath: schemaPath,\n          schemaMap\n        });\n        break;\n      case 'blocks':\n        ;\n        (field.blockReferences ?? field.blocks).map(_block => {\n          // TODO: iterate over blocks mapped to block slug in v4, or pass through payload.blocks\n          const block = typeof _block === 'string' ? config.blocks.find(b => b.slug === _block) : _block;\n          const blockSchemaPath = `${schemaPath}.${block.slug}`;\n          schemaMap.set(blockSchemaPath, block);\n          traverseFields({\n            config,\n            fields: block.fields,\n            i18n,\n            parentIndexPath: '',\n            parentSchemaPath: blockSchemaPath,\n            schemaMap\n          });\n        });\n        break;\n      case 'collapsible':\n      case 'row':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: indexPath,\n          parentSchemaPath,\n          schemaMap\n        });\n        break;\n      case 'group':\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n          traverseFields({\n            config,\n            fields: field.fields,\n            i18n,\n            parentIndexPath: '',\n            parentSchemaPath: schemaPath,\n            schemaMap\n          });\n        } else {\n          traverseFields({\n            config,\n            fields: field.fields,\n            i18n,\n            parentIndexPath: indexPath,\n            parentSchemaPath,\n            schemaMap\n          });\n        }\n        break;\n      case 'richText':\n        if (!field?.editor) {\n          throw new payload__WEBPACK_IMPORTED_MODULE_0__.MissingEditorProp(field) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n          ;\n        }\n        if (typeof field.editor === 'function') {\n          throw new Error('Attempted to access unsanitized rich text editor.');\n        }\n        if (typeof field.editor.generateSchemaMap === 'function') {\n          field.editor.generateSchemaMap({\n            config,\n            field,\n            i18n,\n            schemaMap,\n            schemaPath\n          });\n        }\n        break;\n      case 'tabs':\n        field.tabs.map((tab, tabIndex) => {\n          const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(tab);\n          const {\n            indexPath: tabIndexPath,\n            schemaPath: tabSchemaPath\n          } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.getFieldPaths)({\n            field: {\n              ...tab,\n              type: 'tab'\n            },\n            index: tabIndex,\n            parentIndexPath: indexPath,\n            parentPath: '',\n            parentSchemaPath\n          });\n          schemaMap.set(tabSchemaPath, tab);\n          traverseFields({\n            config,\n            fields: tab.fields,\n            i18n,\n            parentIndexPath: isNamedTab ? '' : tabIndexPath,\n            parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n            schemaMap\n          });\n        });\n        break;\n    }\n  }\n};\n//# sourceMappingURL=traverseFields.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC91dGlsaXRpZXMvYnVpbGRGaWVsZFNjaGVtYU1hcC90cmF2ZXJzZUZpZWxkcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEM7QUFDaUM7QUFDdEU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUUsNkRBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsV0FBVyxHQUFHLFdBQVc7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFlBQVksZ0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBEQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLFlBQVksRUFBRSw2REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxWSVRBXFxOZXh0anNcXHBheWxvYWQtcGx1Z2luc1xcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrdWlAMy41OS4xX0B0eXBlcytyZWFjdEAxOS4xLjhfbW9uYWNvLWVkaXRvckAwLjU0LjBfbmV4dEAxNS40LjRfQGJhYmVsK2NvcmVANy4yOC40X2YzZXkzaWhranpyamo1Y3A2bnNtYWp5aHdxXFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFx1aVxcZGlzdFxcdXRpbGl0aWVzXFxidWlsZEZpZWxkU2NoZW1hTWFwXFx0cmF2ZXJzZUZpZWxkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaXNzaW5nRWRpdG9yUHJvcCB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZmllbGRBZmZlY3RzRGF0YSwgZ2V0RmllbGRQYXRocywgdGFiSGFzTmFtZSB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbmV4cG9ydCBjb25zdCB0cmF2ZXJzZUZpZWxkcyA9ICh7XG4gIGNvbmZpZyxcbiAgZmllbGRzLFxuICBpMThuLFxuICBwYXJlbnRJbmRleFBhdGgsXG4gIHBhcmVudFNjaGVtYVBhdGgsXG4gIHNjaGVtYU1hcFxufSkgPT4ge1xuICBmb3IgKGNvbnN0IFtpbmRleCwgZmllbGRdIG9mIGZpZWxkcy5lbnRyaWVzKCkpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleFBhdGgsXG4gICAgICBzY2hlbWFQYXRoXG4gICAgfSA9IGdldEZpZWxkUGF0aHMoe1xuICAgICAgZmllbGQsXG4gICAgICBpbmRleCxcbiAgICAgIHBhcmVudEluZGV4UGF0aDogJ25hbWUnIGluIGZpZWxkID8gJycgOiBwYXJlbnRJbmRleFBhdGgsXG4gICAgICBwYXJlbnRQYXRoOiAnJyxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGhcbiAgICB9KTtcbiAgICBzY2hlbWFNYXAuc2V0KHNjaGVtYVBhdGgsIGZpZWxkKTtcbiAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICBpMThuLFxuICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICAgICAgcGFyZW50U2NoZW1hUGF0aDogc2NoZW1hUGF0aCxcbiAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmxvY2tzJzpcbiAgICAgICAgO1xuICAgICAgICAoZmllbGQuYmxvY2tSZWZlcmVuY2VzID8/IGZpZWxkLmJsb2NrcykubWFwKF9ibG9jayA9PiB7XG4gICAgICAgICAgLy8gVE9ETzogaXRlcmF0ZSBvdmVyIGJsb2NrcyBtYXBwZWQgdG8gYmxvY2sgc2x1ZyBpbiB2NCwgb3IgcGFzcyB0aHJvdWdoIHBheWxvYWQuYmxvY2tzXG4gICAgICAgICAgY29uc3QgYmxvY2sgPSB0eXBlb2YgX2Jsb2NrID09PSAnc3RyaW5nJyA/IGNvbmZpZy5ibG9ja3MuZmluZChiID0+IGIuc2x1ZyA9PT0gX2Jsb2NrKSA6IF9ibG9jaztcbiAgICAgICAgICBjb25zdCBibG9ja1NjaGVtYVBhdGggPSBgJHtzY2hlbWFQYXRofS4ke2Jsb2NrLnNsdWd9YDtcbiAgICAgICAgICBzY2hlbWFNYXAuc2V0KGJsb2NrU2NoZW1hUGF0aCwgYmxvY2spO1xuICAgICAgICAgIHRyYXZlcnNlRmllbGRzKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkczogYmxvY2suZmllbGRzLFxuICAgICAgICAgICAgaTE4bixcbiAgICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBibG9ja1NjaGVtYVBhdGgsXG4gICAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29sbGFwc2libGUnOlxuICAgICAgY2FzZSAncm93JzpcbiAgICAgICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICBpMThuLFxuICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogaW5kZXhQYXRoLFxuICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICAgICAgc2NoZW1hTWFwXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgICAgICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgICAgICBpMThuLFxuICAgICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiAnJyxcbiAgICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IHNjaGVtYVBhdGgsXG4gICAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6IGluZGV4UGF0aCxcbiAgICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JpY2hUZXh0JzpcbiAgICAgICAgaWYgKCFmaWVsZD8uZWRpdG9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdFZGl0b3JQcm9wKGZpZWxkKSAvLyB3aGlsZSB3ZSBhbGxvdyBkaXNhYmxpbmcgZWRpdG9yIGZ1bmN0aW9uYWxpdHksIHlvdSBzaG91bGQgbm90IGhhdmUgYW55IHJpY2hUZXh0IGZpZWxkcyBkZWZpbmVkIGlmIHlvdSBkbyBub3QgaGF2ZSBhbiBlZGl0b3JcbiAgICAgICAgICA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZC5lZGl0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byBhY2Nlc3MgdW5zYW5pdGl6ZWQgcmljaCB0ZXh0IGVkaXRvci4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmVkaXRvci5nZW5lcmF0ZVNjaGVtYU1hcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZpZWxkLmVkaXRvci5nZW5lcmF0ZVNjaGVtYU1hcCh7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgICBzY2hlbWFNYXAsXG4gICAgICAgICAgICBzY2hlbWFQYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0YWJzJzpcbiAgICAgICAgZmllbGQudGFicy5tYXAoKHRhYiwgdGFiSW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBpc05hbWVkVGFiID0gdGFiSGFzTmFtZSh0YWIpO1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGluZGV4UGF0aDogdGFiSW5kZXhQYXRoLFxuICAgICAgICAgICAgc2NoZW1hUGF0aDogdGFiU2NoZW1hUGF0aFxuICAgICAgICAgIH0gPSBnZXRGaWVsZFBhdGhzKHtcbiAgICAgICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgICAgIC4uLnRhYixcbiAgICAgICAgICAgICAgdHlwZTogJ3RhYidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRleDogdGFiSW5kZXgsXG4gICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6IGluZGV4UGF0aCxcbiAgICAgICAgICAgIHBhcmVudFBhdGg6ICcnLFxuICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNjaGVtYU1hcC5zZXQodGFiU2NoZW1hUGF0aCwgdGFiKTtcbiAgICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBmaWVsZHM6IHRhYi5maWVsZHMsXG4gICAgICAgICAgICBpMThuLFxuICAgICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpc05hbWVkVGFiID8gJycgOiB0YWJJbmRleFBhdGgsXG4gICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBpc05hbWVkVGFiID8gdGFiU2NoZW1hUGF0aCA6IHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYXZlcnNlRmllbGRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js\n",
      )

      /***/
    },

  /***/ '(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js':
    /*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js ***!
  \*************************************************************************************************************************************************************************************************************************/
    /***/ (__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {
      eval(
        "__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveFilterOptions: () => (/* binding */ resolveFilterOptions)\n/* harmony export */ });\nconst resolveFilterOptions = async (filterOptions, options) => {\n  const {\n    relationTo\n  } = options;\n  const relations = Array.isArray(relationTo) ? relationTo : [relationTo];\n  const query = {};\n  if (typeof filterOptions !== 'undefined') {\n    await Promise.all(relations.map(async relation => {\n      query[relation] = typeof filterOptions === 'function' ? await filterOptions({\n        ...options,\n        relationTo: relation\n      }) : filterOptions;\n      if (query[relation] === true) {\n        query[relation] = {};\n      }\n      // this is an ugly way to prevent results from being returned\n      if (query[relation] === false) {\n        query[relation] = {\n          id: {\n            exists: false\n          }\n        };\n      }\n    }));\n  }\n  return query;\n};\n//# sourceMappingURL=resolveFilterOptions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuNTkuMV9AdHlwZXMrcmVhY3RAMTkuMS44X21vbmFjby1lZGl0b3JAMC41NC4wX25leHRAMTUuNC40X0BiYWJlbCtjb3JlQDcuMjguNF9mM2V5M2loa2p6cmpqNWNwNm5zbWFqeWh3cS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC91dGlsaXRpZXMvcmVzb2x2ZUZpbHRlck9wdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFZJVEFcXE5leHRqc1xccGF5bG9hZC1wbHVnaW5zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU5LjFfQHR5cGVzK3JlYWN0QDE5LjEuOF9tb25hY28tZWRpdG9yQDAuNTQuMF9uZXh0QDE1LjQuNF9AYmFiZWwrY29yZUA3LjI4LjRfZjNleTNpaGtqenJqajVjcDZuc21hanlod3FcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFx1dGlsaXRpZXNcXHJlc29sdmVGaWx0ZXJPcHRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCByZXNvbHZlRmlsdGVyT3B0aW9ucyA9IGFzeW5jIChmaWx0ZXJPcHRpb25zLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHtcbiAgICByZWxhdGlvblRvXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByZWxhdGlvbnMgPSBBcnJheS5pc0FycmF5KHJlbGF0aW9uVG8pID8gcmVsYXRpb25UbyA6IFtyZWxhdGlvblRvXTtcbiAgY29uc3QgcXVlcnkgPSB7fTtcbiAgaWYgKHR5cGVvZiBmaWx0ZXJPcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHJlbGF0aW9ucy5tYXAoYXN5bmMgcmVsYXRpb24gPT4ge1xuICAgICAgcXVlcnlbcmVsYXRpb25dID0gdHlwZW9mIGZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBmaWx0ZXJPcHRpb25zKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgcmVsYXRpb25UbzogcmVsYXRpb25cbiAgICAgIH0pIDogZmlsdGVyT3B0aW9ucztcbiAgICAgIGlmIChxdWVyeVtyZWxhdGlvbl0gPT09IHRydWUpIHtcbiAgICAgICAgcXVlcnlbcmVsYXRpb25dID0ge307XG4gICAgICB9XG4gICAgICAvLyB0aGlzIGlzIGFuIHVnbHkgd2F5IHRvIHByZXZlbnQgcmVzdWx0cyBmcm9tIGJlaW5nIHJldHVybmVkXG4gICAgICBpZiAocXVlcnlbcmVsYXRpb25dID09PSBmYWxzZSkge1xuICAgICAgICBxdWVyeVtyZWxhdGlvbl0gPSB7XG4gICAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgIGV4aXN0czogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBxdWVyeTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlRmlsdGVyT3B0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+ui@3.59.1_@types+react@19.1.8_monaco-editor@0.54.0_next@15.4.4_@babel+core@7.28.4_f3ey3ihkjzrjj5cp6nsmajyhwq/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js\n",
      )

      /***/
    },
}
